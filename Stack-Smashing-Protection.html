<html lang="zh">
<head>
<title>Stack Smashing Protection - GNU Compiler Collection (GCC) Internals</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="GNU Compiler Collection (GCC) Internals">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Stack-and-Calling.html#Stack-and-Calling" title="Stack and Calling">
<link rel="prev" href="Tail-Calls.html#Tail-Calls" title="Tail Calls">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
版权 (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2010 自由软件基金会

您可以依据自由软件基金会所发行的GNU自由文档授权1.3版本或者之后的任何版本，对本文档进行复制，分发和/或修改；其中不可变章节为"资助自由软件"，封面文字为 (a) (参见下面)，以及封底文字为 (b) (参见下面)。授权的副本要被包含在标题为"GNU自由文档授权"的章节中。

(a) FSF的封面文字为：

     GNU 手册

(b) FSF的封底文字为：

     您可以自由复制和修改本GNU手册，如同GNU软件。由自由软件基金会所发行的副本用于为GNU开发筹集资金。-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Stack-Smashing-Protection"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Tail-Calls.html#Tail-Calls">Tail Calls</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Stack-and-Calling.html#Stack-and-Calling">Stack and Calling</a>
<hr>
</div>

<h4 class="subsection">17.10.14 栈冲突保护</h4>

<p><a name="index-stack-smashing-protection-4224"></a>

<div class="defun">
&mdash; Target Hook: tree <b>TARGET_STACK_PROTECT_GUARD</b> (<var>void</var>)<var><a name="index-TARGET_005fSTACK_005fPROTECT_005fGUARD-4225"></a></var><br>
<blockquote><!-- This hook returns a @code{DECL} node for the external variable to use -->
     <!-- for the stack protection guard.  This variable is initialized by the -->
     <!-- runtime to some random value and is used to initialize the guard value -->
     <!-- that is placed at the top of the local stack frame.  The type of this -->
     <!-- variable must be @code{ptr_type_node}. -->
      <p>该钩子返回一个外部变量的<code>DECL</code>节点，用作栈保护者。
该变量在运行时被初始化为某个随即值，
并用于初始化放在局部栈帧顶端的警卫值。
该变量的类型必须为<code>ptr_type_node</code>。

     <!-- The default version of this hook creates a variable called -->
     <!-- @samp{__stack_chk_guard}, which is normally defined in @file{libgcc2.c}. -->
      <p>该钩子的缺省版本创建一个叫做&lsquo;<samp><span class="samp">__stack_chk_guard</span></samp>&rsquo;的变量，
其通常在<samp><span class="file">libgcc2.c</span></samp>中被定义。
</p></blockquote></div>

<div class="defun">
&mdash; Target Hook: tree <b>TARGET_STACK_PROTECT_FAIL</b> (<var>void</var>)<var><a name="index-TARGET_005fSTACK_005fPROTECT_005fFAIL-4226"></a></var><br>
<blockquote><!-- This hook returns a tree expression that alerts the runtime that the -->
     <!-- stack protect guard variable has been modified.  This expression should -->
     <!-- involve a call to a @code{noreturn} function. -->
      <p>该钩子返回一个tree表达式，用以警告运行时，栈保护者变量被修改了。
该表达式应该包括一个对无返回的（<code>noreturn</code>）函数的调用。

     <!-- The default version of this hook invokes a function called -->
     <!-- @samp{__stack_chk_fail}, taking no arguments.  This function is -->
     <!-- normally defined in @file{libgcc2.c}. -->
      <p>该钩子的缺省版本调用一个叫做&lsquo;<samp><span class="samp">__stack_chk_fail</span></samp>&rsquo;的函数，
不接受任何参数。该函数通常在<samp><span class="file">libgcc2.c</span></samp>中被定义。
</p></blockquote></div>

<div class="defun">
&mdash; Common Target Hook: bool <b>TARGET_SUPPORTS_SPLIT_STACK</b> (<var>bool report, struct gcc_options *opts</var>)<var><a name="index-TARGET_005fSUPPORTS_005fSPLIT_005fSTACK-4227"></a></var><br>
<blockquote><p>Whether this target supports splitting the stack when the options described in <var>opts</var> have been passed.  This is called after options have been parsed, so the target may reject splitting the stack in some configurations.  The default version of this hook returns false.  If <var>report</var> is true, this function may issue a warning or error; if <var>report</var> is false, it must simply return a value
</p></blockquote></div>

<!-- @node Varargs -->
<!-- @section Implementing the Varargs Macros -->
 </body></html>

