<html lang="en">
<head>
<title>LCSSA - GNU Compiler Collection (GCC) Internals</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Compiler Collection (GCC) Internals">
<meta name="generator" content="makeinfo 4.11">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="_00e5_00be_00aa_00e7_008e_00af_00e5_0088_0086_00e6_009e_0090_00e5_0092_008c_00e8_00a1_00a8_00e7_00a4_00ba.html#g_t_00e5_00be_00aa_00e7_008e_00af_00e5_0088_0086_00e6_009e_0090_00e5_0092_008c_00e8_00a1_00a8_00e7_00a4_00ba" title="循环分析和表示">
<link rel="prev" href="_00e5_00be_00aa_00e7_008e_00af_00e6_0093_008d_00e4_00bd_009c.html#g_t_00e5_00be_00aa_00e7_008e_00af_00e6_0093_008d_00e4_00bd_009c" title="循环操作">
<link rel="next" href="_00e6_00a0_0087_00e9_0087_008f_00e6_00bc_0094_00e5_008c_0096.html#g_t_00e6_00a0_0087_00e9_0087_008f_00e6_00bc_0094_00e5_008c_0096" title="标量演化">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
版权 (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008 自由软件基金会

您可以依据自由软件基金会所发行的GNU自由文档授权1.2版本或者之后的任何版本，
对本文档进行复制，分发和/或修改；其中不可变章节为"资助自由软件"，封面文
字为 (a) (参见下面)，以及封底文字为 (b) (参见下面)。授权的副本要被包含在
标题为"GNU自由文档授权"的章节中。

(a) FSF的封面文字为：

     GNU 手册

(b) FSF的封底文字为：

     您可以自由复制和修改本GNU手册，如同GNU软件。由自由软件基金会所发行
     的副本用于为GNU开发筹集资金。-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="LCSSA"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="_00e6_00a0_0087_00e9_0087_008f_00e6_00bc_0094_00e5_008c_0096.html#g_t_00e6_00a0_0087_00e9_0087_008f_00e6_00bc_0094_00e5_008c_0096">标量演化</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="_00e5_00be_00aa_00e7_008e_00af_00e6_0093_008d_00e4_00bd_009c.html#g_t_00e5_00be_00aa_00e7_008e_00af_00e6_0093_008d_00e4_00bd_009c">循环操作</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="_00e5_00be_00aa_00e7_008e_00af_00e5_0088_0086_00e6_009e_0090_00e5_0092_008c_00e8_00a1_00a8_00e7_00a4_00ba.html#g_t_00e5_00be_00aa_00e7_008e_00af_00e5_0088_0086_00e6_009e_0090_00e5_0092_008c_00e8_00a1_00a8_00e7_00a4_00ba">循环分析和表示</a>
<hr>
</div>

<h3 class="section">14.4 循环封闭的SSA形式</h3>

<p><a name="index-LCSSA-3076"></a><a name="index-Loop_002dclosed-SSA-form-3077"></a>
在整个树级的循环优化过程中，SSA形式需要有一个额外的加强条件：
没有SSA名字在它所定义的循环之外被使用。
满足这样条件的SSA形式称作“循环封闭的SSA形式”-LCSSA。
为了形成LCSSA，对于在循环外使用SSA名字的，必须在循环的出口创建PHI节点。
为了节省内存，在LCSSA中只支持实际的操作数（不包括虚拟SSA名）。

 <p>LCSSA有许多好处：

     <ul>
<li>许多优化（值范围分析，最终值替换）都对在循环中定义的而在循环外使用的值感兴趣，
即，对那些我们创建的新PHI节点。
<li>在归约变量分析中，
没有必要指定将要执行分析的循环——标量演化分析总是返回SSA名字被定义的循环。
<li>它使得循环转换中更新SSA形式变得更简单。没有LCSSA的话，
像循环展开这样的操作可能会强迫创建距离循环任意远的PHI节点，然而使用LCSSA的话，
SSA形式能够被局部更新。不过，由于我们只是在LCSSA中保持真实的操作书，
所以我们不能使用这个好处（我们本来能够局部更新真实操作数，
但是这样并不比使用通用SSA形式更新更有效；对SSA的改动是相同的）。
</ul>

 <p>不管怎样，这还意味着LCSSA必须被更新。这通常是很直白的，
除非你在循环中创建了一个新值，并在外面使用，
或者除非你操作了循环出口边（有函数被提供使得这些操作变得简单）。
<code>rewrite_into_loop_closed_ssa</code>用来将SSA形式重写为 LCSSA，
<code>verify_loop_closed_ssa</code>用来检查LCSSA所保持的不变性。

 </body></html>

