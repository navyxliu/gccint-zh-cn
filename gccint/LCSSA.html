<html lang="en">
<head>
<title>LCSSA - GNU Compiler Collection (GCC) Internals</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Compiler Collection (GCC) Internals">
<meta name="generator" content="makeinfo 4.11">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="_00e5_00be_00aa_00e7_008e_00af_00e5_0088_0086_00e6_009e_0090_00e5_0092_008c_00e8_00a1_00a8_00e7_00a4_00ba.html#g_t_00e5_00be_00aa_00e7_008e_00af_00e5_0088_0086_00e6_009e_0090_00e5_0092_008c_00e8_00a1_00a8_00e7_00a4_00ba" title="循环分析和表示">
<link rel="prev" href="_00e5_00be_00aa_00e7_008e_00af_00e6_0093_008d_00e4_00bd_009c.html#g_t_00e5_00be_00aa_00e7_008e_00af_00e6_0093_008d_00e4_00bd_009c" title="循环操作">
<link rel="next" href="_00e6_00a0_0087_00e9_0087_008f_00e6_00bc_0094_00e5_008c_0096.html#g_t_00e6_00a0_0087_00e9_0087_008f_00e6_00bc_0094_00e5_008c_0096" title="标量演化">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
版权 (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008 自由软件基金会

您可以依据自由软件基金会所发行的GNU自由文档授权1.2版本或者之后的任何版本，
对本文档进行复制，分发和/或修改；其中不可变章节为"资助自由软件"，封面文
字为 (a) (参见下面)，以及封底文字为 (b) (参见下面)。授权的副本要被包含在
标题为"GNU自由文档授权"的章节中。

(a) FSF的封面文字为：

     GNU 手册

(b) FSF的封底文字为：

     您可以自由复制和修改本GNU手册，如同GNU软件。由自由软件基金会所发行
     的副本用于为GNU开发筹集资金。-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="LCSSA"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="_00e6_00a0_0087_00e9_0087_008f_00e6_00bc_0094_00e5_008c_0096.html#g_t_00e6_00a0_0087_00e9_0087_008f_00e6_00bc_0094_00e5_008c_0096">标量演化</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="_00e5_00be_00aa_00e7_008e_00af_00e6_0093_008d_00e4_00bd_009c.html#g_t_00e5_00be_00aa_00e7_008e_00af_00e6_0093_008d_00e4_00bd_009c">循环操作</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="_00e5_00be_00aa_00e7_008e_00af_00e5_0088_0086_00e6_009e_0090_00e5_0092_008c_00e8_00a1_00a8_00e7_00a4_00ba.html#g_t_00e5_00be_00aa_00e7_008e_00af_00e5_0088_0086_00e6_009e_0090_00e5_0092_008c_00e8_00a1_00a8_00e7_00a4_00ba">循环分析和表示</a>
<hr>
</div>

<h3 class="section">14.4 循环封闭的SSA形式</h3>

<p><a name="index-LCSSA-3076"></a><a name="index-Loop_002dclosed-SSA-form-3077"></a>
Throughout the loop optimizations on tree level, one extra condition is
enforced on the SSA form:  No SSA name is used outside of the loop in
that it is defined.  The SSA form satisfying this condition is called
&ldquo;loop-closed SSA form&rdquo; &ndash; LCSSA.  To enforce LCSSA, PHI nodes must be
created at the exits of the loops for the SSA names that are used
outside of them.  Only the real operands (not virtual SSA names) are
held in LCSSA, in order to save memory.

 <p>There are various benefits of LCSSA:

     <ul>
<li>Many optimizations (value range analysis, final value
replacement) are interested in the values that are defined in the loop
and used outside of it, i.e., exactly those for that we create new PHI
nodes. 
<li>In induction variable analysis, it is not necessary to specify the
loop in that the analysis should be performed &ndash; the scalar evolution
analysis always returns the results with respect to the loop in that the
SSA name is defined. 
<li>It makes updating of SSA form during loop transformations simpler. 
Without LCSSA, operations like loop unrolling may force creation of PHI
nodes arbitrarily far from the loop, while in LCSSA, the SSA form can be
updated locally.  However, since we only keep real operands in LCSSA, we
cannot use this advantage (we could have local updating of real
operands, but it is not much more efficient than to use generic SSA form
updating for it as well; the amount of changes to SSA is the same). 
</ul>

 <p>However, it also means LCSSA must be updated.  This is usually
straightforward, unless you create a new value in loop and use it
outside, or unless you manipulate loop exit edges (functions are
provided to make these manipulations simple). 
<code>rewrite_into_loop_closed_ssa</code> is used to rewrite SSA form to
LCSSA, and <code>verify_loop_closed_ssa</code> to check that the invariant of
LCSSA is preserved.

 </body></html>

