<html lang="zh">
<head>
<title>驱动器 - GNU Compiler Collection (GCC) Internals</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Compiler Collection (GCC) Internals">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="_00e7_009b_00ae_00e6_00a0_0087_00e5_00ae_008f.html#g_t_00e7_009b_00ae_00e6_00a0_0087_00e5_00ae_008f" title="目标宏">
<link rel="prev" href="_00e7_009b_00ae_00e6_00a0_0087_00e6_009c_00ba_00e7_00bb_0093_00e6_009e_0084.html#g_t_00e7_009b_00ae_00e6_00a0_0087_00e6_009c_00ba_00e7_00bb_0093_00e6_009e_0084" title="目标机结构">
<link rel="next" href="_00e8_00bf_0090_00e8_00a1_008c_00e6_0097_00b6_00e7_009b_00ae_00e6_00a0_0087_00e6_009c_00ba.html#g_t_00e8_00bf_0090_00e8_00a1_008c_00e6_0097_00b6_00e7_009b_00ae_00e6_00a0_0087_00e6_009c_00ba" title="运行时目标机">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
版权 (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008 自由软件基金会

您可以依据自由软件基金会所发行的GNU自由文档授权1.2版本或者之后的任何版本，
对本文档进行复制，分发和/或修改；其中不可变章节为"资助自由软件"，封面文
字为 (a) (参见下面)，以及封底文字为 (b) (参见下面)。授权的副本要被包含在
标题为"GNU自由文档授权"的章节中。

(a) FSF的封面文字为：

     GNU 手册

(b) FSF的封底文字为：

     您可以自由复制和修改本GNU手册，如同GNU软件。由自由软件基金会所发行
     的副本用于为GNU开发筹集资金。-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="%e9%a9%b1%e5%8a%a8%e5%99%a8"></a>
<a name="g_t_00e9_00a9_00b1_00e5_008a_00a8_00e5_0099_00a8"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="_00e8_00bf_0090_00e8_00a1_008c_00e6_0097_00b6_00e7_009b_00ae_00e6_00a0_0087_00e6_009c_00ba.html#g_t_00e8_00bf_0090_00e8_00a1_008c_00e6_0097_00b6_00e7_009b_00ae_00e6_00a0_0087_00e6_009c_00ba">运行时目标机</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="_00e7_009b_00ae_00e6_00a0_0087_00e6_009c_00ba_00e7_00bb_0093_00e6_009e_0084.html#g_t_00e7_009b_00ae_00e6_00a0_0087_00e6_009c_00ba_00e7_00bb_0093_00e6_009e_0084">目标机结构</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="_00e7_009b_00ae_00e6_00a0_0087_00e5_00ae_008f.html#g_t_00e7_009b_00ae_00e6_00a0_0087_00e5_00ae_008f">目标宏</a>
<hr>
</div>

<h3 class="section">17.2 控制编译驱动器，<samp><span class="file">gcc</span></samp></h3>

<p><a name="index-driver-3684"></a><a name="index-controlling-the-compilation-driver-3685"></a>
<!-- prevent bad page break with this line -->
你可以控制编译驱动器。

<div class="defun">
&mdash; Macro: <b>SWITCH_TAKES_ARG</b> (<var>char</var>)<var><a name="index-SWITCH_005fTAKES_005fARG-3686"></a></var><br>
<blockquote><p>一个C表达式，用来确定选项<samp><span class="option">-</span><var>char</var></samp>是否接受参数。
值应该为那个选项接受的参数个数，对于许多选项其为0。

      <p>缺省情况下，该宏被定义为<code>DEFAULT_SWITCH_TAKES_ARG</code>，
其可以正常处理标准的选项。除非你希望增加额外的接受参数的选项，
否则不需要定义<code>SWITCH_TAKES_ARG</code>。
任何重定义都应该先调用<code>DEFAULT_SWITCH_TAKES_ARG</code>，然后再检查额外的选项。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>WORD_SWITCH_TAKES_ARG</b> (<var>name</var>)<var><a name="index-WORD_005fSWITCH_005fTAKES_005fARG-3687"></a></var><br>
<blockquote><p>一个C表达式，用来确定选项<samp><span class="option">-</span><var>name</var></samp>是否接受参数。
值应该为那个选项接受的参数个数，对于许多选项其为0。
该宏不同于<code>SWITCH_TAKES_ARG</code>，是用于选项名为多个字符的情况。

      <p>缺省情况下，该宏被定义为<code>DEFAULT_WORD_SWITCH_TAKES_ARG</code>，
其可以正常处理标准的选项。除非你希望增加额外的接受参数的选项，
否则不需要定义<code>WORD_SWITCH_TAKES_ARG</code>。
任何重定义都应该先调用<code>DEFAULT_WORD_SWITCH_TAKES_ARG</code>，然后再检查额外的选项。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>SWITCH_CURTAILS_COMPILATION</b> (<var>char</var>)<var><a name="index-SWITCH_005fCURTAILS_005fCOMPILATION-3688"></a></var><br>
<blockquote><p>一个C表达式，用来确定选项<samp><span class="option">-</span><var>char</var></samp>是否在生成可执行程序之前停止编译。
值为布尔型，如果选项确实停止生成可执行程序则为非0，否则为0。

      <p>缺省情况下，该宏被定义为<code>DEFAULT_SWITCH_CURTAILS_COMPILATION</code>，
其可以正常处理标准的选项。除非你希望增加额外的影响可执行程序生成的选项，
否则不需要定义<code>SWITCH_CURTAILS_COMPILATION</code>。
任何重定义都应该先调用<code>DEFAULT_SWITCH_CURTAILS_COMPILATION</code>，
然后再检查额外的选项。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>SWITCHES_NEED_SPACES</b><var><a name="index-SWITCHES_005fNEED_005fSPACES-3689"></a></var><br>
<blockquote><p>一个值为字符串的C表达式，
用来枚举连接器在选项和其参数之间需要一个空格的那些选项。

      <p>如果该宏没有被定义，则缺省值为<code>""</code>。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>TARGET_OPTION_TRANSLATE_TABLE</b><var><a name="index-TARGET_005fOPTION_005fTRANSLATE_005fTABLE-3690"></a></var><br>
<blockquote><p>如果定义，则为字符串对（pairs of strings）列表，
其中第一个字符串为<samp><span class="file">gcc</span></samp>驱动程序的一个可能的命令行目标，
第二个字符串为空格分隔的（不支持tab和其它whitespace）选项列表，
用来替换第一个选项。
定义该列表的目标机要负责确保结果是有效的。替换选项不可以为<code>--opt</code>风格的，
它们必须为<code>-opt</code>风格的。该宏的目的是为选择multilib提供一种替换机制，
例如通过一个选项可以打开许多选项，其中一些用来选择multilib。
例如，在下面这个无意义的定义中，
<samp><span class="option">-malt-abi</span></samp>, <samp><span class="option">-EB</span></samp>和<samp><span class="option">-mspoo</span></samp>会导致不同的multilib被选择：

     <pre class="smallexample">          #define TARGET_OPTION_TRANSLATE_TABLE \
          { "-fast",   "-march=fast-foo -malt-abi -I/usr/fast-foo" }, \
          { "-compat", "-EB -malign=4 -mspoo" }
</pre>
      </blockquote></div>

<div class="defun">
&mdash; Macro: <b>DRIVER_SELF_SPECS</b><var><a name="index-DRIVER_005fSELF_005fSPECS-3691"></a></var><br>
<blockquote><p>驱动器本身的specs列表。其应该为一个字符串数组的适当的初始化值，
并且不使用大括号包裹。

      <p>驱动器将这些specs应用到它自己的命令行上，位于加载缺省<samp><span class="file">specs</span></samp>文件
（而不是由命令行指定的）和选择multilib目录或者运行任何子命令之间。
驱动器按照给定的顺序来应用它们，所以每个spec可以依赖于先前增加的选项。
还可以使用通常的方式，用&lsquo;<samp><span class="samp">%&lt;</span><var>option</var></samp>&rsquo;来移除选项。

      <p>当一个port具有多个相互依赖的目标机选项时，该宏会有帮助。
它提供了一种标准化命令行的方法，使得其它specs的书写变得容易些。

      <p>如果不需要做任何事情的话，则不要定义该宏。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>OPTION_DEFAULT_SPECS</b><var><a name="index-OPTION_005fDEFAULT_005fSPECS-3692"></a></var><br>
<blockquote><p>一个specs列表，用于支持驱动器中的配置时（configure-time）缺省选项
（即，<samp><span class="option">--with</span></samp>选项）。
其应该为一个结构体数组的适当的初始化值，每个元素包含两个字符串，
并且不带有最外层的大括号对。

      <p>字符串对的第一项为缺省名字。其必须匹配目标机的<samp><span class="file">config.gcc</span></samp>中的代码。
第二项为一个spec，当那个缺省名字被指定的时候会被应用。
在spec中，字符串&lsquo;<samp><span class="samp">%(VALUE)</span></samp>&rsquo;出现的所有地方都将被缺省值替换。

      <p>驱动器将这些specs应用到它自己的命令行上，
位于加载缺省<samp><span class="file">specs</span></samp>文件和处理<code>DRIVER_SELF_SPECS</code>之间，
使用与<code>DRIVER_SELF_SPECS</code>相同的机制。

      <p>如果不需要做任何事情的话，则不要定义该宏。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>CPP_SPEC</b><var><a name="index-CPP_005fSPEC-3693"></a></var><br>
<blockquote><p>一个C字符串常量，告诉GCC驱动程序要传给CPP的选项。
其还可以指定如何将你传给GCC的选项转换成GCC传给CPP的选项。

      <p>如果不需要做任何事情的话，则不要定义该宏。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>CPLUSPLUS_CPP_SPEC</b><var><a name="index-CPLUSPLUS_005fCPP_005fSPEC-3694"></a></var><br>
<blockquote><p>该宏类似于<code>CPP_SPEC</code>，只不过是用于C++而不是C。如果你不定义该宏，
则会使用<code>CPP_SPEC</code>的值（如果存在）来替代。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>CC1_SPEC</b><var><a name="index-CC1_005fSPEC-3695"></a></var><br>
<blockquote><p>一个C字符串常量，告诉GCC驱动程序要传给<code>cc1</code>, <code>cc1plus</code>,
<code>f771</code>和其它语言前端的选项。
其还可以指定如何将你传给GCC的选项转换成GCC传给前端的选项。

      <p>如果不需要做任何事情的话，则不要定义该宏。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>CC1PLUS_SPEC</b><var><a name="index-CC1PLUS_005fSPEC-3696"></a></var><br>
<blockquote><p>一个C字符串常量，告诉GCC驱动程序要传给<code>cc1plus</code>的选项。
其还可以指定如何将你传给GCC的选项转换成GCC传给<code>cc1plus</code>的选项。

      <p>如果不需要做任何事情的话，则不要定义该宏。
注意在CC1_SPEC中定义的所有选项已经被传给<code>cc1plus</code>，
所以不需要在CC1PLUS_SPEC中重复CC1_SPEC的内容。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>ASM_SPEC</b><var><a name="index-ASM_005fSPEC-3697"></a></var><br>
<blockquote><p>一个C字符串常量，告诉GCC驱动程序要传给汇编器的选项。
其还可以指定如何将你传给GCC的选项转换成GCC传给汇编器的选项。
参见文件<samp><span class="file">sun3.h</span></samp>中的例子。

      <p>如果不需要做任何事情的话，则不要定义该宏。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>ASM_FINAL_SPEC</b><var><a name="index-ASM_005fFINAL_005fSPEC-3698"></a></var><br>
<blockquote><p>一个C字符串常量，告诉GCC驱动程序如何在运行正常的汇编器之后，来运行任何清除程序。
通常，不需要该宏。参见文件<samp><span class="file">mips.h</span></samp>中的例子。

      <p>如果不需要做任何事情的话，则不要定义该宏。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>AS_NEEDS_DASH_FOR_PIPED_INPUT</b><var><a name="index-AS_005fNEEDS_005fDASH_005fFOR_005fPIPED_005fINPUT-3699"></a></var><br>
<blockquote><p>如果驱动器应该传给汇编器一个由单横线<samp><span class="option">-</span></samp>组成的参数，
来指示它从标准输入（其将为一个与编译器输出相连接的管道）读取时，
则定义该宏，并且不需要给出定义值。
该参数在任何指定输出文件名的<samp><span class="option">-o</span></samp>选项后面被给出。

      <p>如果不定义该宏，则汇编器被认为在没有传给任何非选项参数时，才从标准输入读取。
如果你的汇编器根本不能从标准输入读取，则使用&lsquo;<samp><span class="samp">%{pipe:%e}</span></samp>&rsquo;；
参见<samp><span class="file">mips.h</span></samp>中的例子。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>LINK_SPEC</b><var><a name="index-LINK_005fSPEC-3700"></a></var><br>
<blockquote><p>一个C字符串常量，告诉GCC驱动程序要传给连接器的选项。
其还可以指定如何将你传给GCC的选项转换成GCC传给连接器的选项。

      <p>如果不需要做任何事情的话，则不要定义该宏。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>LIB_SPEC</b><var><a name="index-LIB_005fSPEC-3701"></a></var><br>
<blockquote><p>另一个C字符串常量，与<code>LINK_SPEC</code>的用法很相似。
两者的区别是<code>LIB_SPEC</code>用于传给连接器的命令的结尾处。

      <p>如果该宏没有被定义，则提供缺省的方式，从通常的地方来加载标准C库。
参见<samp><span class="file">gcc.c</span></samp>。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>LIBGCC_SPEC</b><var><a name="index-LIBGCC_005fSPEC-3702"></a></var><br>
<blockquote><p>另一个C字符串常量，
告诉GCC驱动程序如何以及什么时候将对<samp><span class="file">libgcc.a</span></samp>的引用放到连接器的命令行中。
该常量同时被放在<code>LIB_SPEC</code>的值的前面和后面。

      <p>如果该宏没有被定义，则GCC驱动器提供了一个缺省的方式，
将字符串<samp><span class="option">-lgcc</span></samp>传给连接器。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>REAL_LIBGCC_SPEC</b><var><a name="index-REAL_005fLIBGCC_005fSPEC-3703"></a></var><br>
<blockquote><p>缺省情况下，如果<code>ENABLE_SHARED_LIBGCC</code>被定义，
则<code>LIBGCC_SPEC</code>不直接被驱动程序使用，而是根据命令行标记<samp><span class="option">-static</span></samp>,
<samp><span class="option">-shared</span></samp>, <samp><span class="option">-static-libgcc</span></samp>和<samp><span class="option">-shared-libgcc</span></samp>的值，
进行修改，从而引用<samp><span class="file">libgcc.a</span></samp>的不同版本。在一些目标机上，这些修改并不合适，
这样就可以定义<code>REAL_LIBGCC_SPEC</code>。
<code>REAL_LIBGCC_SPEC</code>告诉驱动器如何将对<samp><span class="file">libgcc</span></samp>的引用放到连接器命令行中，
不过不像<code>LIBGCC_SPEC</code>，它不经过修改，被直接使用。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>USE_LD_AS_NEEDED</b><var><a name="index-USE_005fLD_005fAS_005fNEEDED-3704"></a></var><br>
<blockquote><p>一个宏，用于控制在<code>REAL_LIBGCC_SPEC</code>中提到的对<code>LIBGCC_SPEC</code>的修改。
如果非0，则会生成一个spec，当不使用任何<code>-static</code>,
<code>-static-libgcc</code>或<code>-shared-libgcc</code>来连接的时候，
将使用–as-needed和静态异常处理库所在位置的共享libgcc。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>LINK_EH_SPEC</b><var><a name="index-LINK_005fEH_005fSPEC-3705"></a></var><br>
<blockquote><p>如果定义，则该C字符串常量被增加到<code>LINK_SPEC</code>中。
当<code>USE_LD_AS_NEEDED</code>为0或者未定义时，
其还影响在<code>REAL_LIBGCC_SPEC</code>中提到的对<code>LIBGCC_SPEC</code>的修改。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>STARTFILE_SPEC</b><var><a name="index-STARTFILE_005fSPEC-3706"></a></var><br>
<blockquote><p>另一个C字符串常量，与<code>LINK_SPEC</code>的用法很相似。
两者的不同之处是<code>STARTFILE_SPEC</code>用于传给连接器的命令的最开始处。

      <p>如果该宏没有被定义，则会提供一种缺省方式，
从通常的地方来加载标准C启动（startup）文件。参见<samp><span class="file">gcc.c</span></samp>。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>ENDFILE_SPEC</b><var><a name="index-ENDFILE_005fSPEC-3707"></a></var><br>
<blockquote><p>另一个C字符串常量，与<code>LINK_SPEC</code>的用法很相似。
两者的不同之处是<code>ENDFILE_SPEC</code>用于传给连接器的命令的最末尾处。

      <p>如果不需要做任何事情的话，则不要定义该宏。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>THREAD_MODEL_SPEC</b><var><a name="index-THREAD_005fMODEL_005fSPEC-3708"></a></var><br>
<blockquote><p>GCC <code>-v</code>将会打印GCC被配置使用的线程模式。然而，在有些平台上这是无法工作的，
像AIX 4.3。对于这样的平台，将<code>THREAD_MODEL_SPEC</code>定义为没有空格的字符串来
命名可识别的线程模式的名字。<code>%*</code>为该宏的缺省值，
将扩展为在<samp><span class="file">config.gcc</span></samp>中设置的<code>thread_file</code>的值。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>SYSROOT_SUFFIX_SPEC</b><var><a name="index-SYSROOT_005fSUFFIX_005fSPEC-3709"></a></var><br>
<blockquote><p>定义该宏，当GCC使用sysroot被配置时，来为目标机的sysroot增加一个suffix。
这将导致GCC在sysroot+suffix下查找usr/lib等。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>SYSROOT_HEADERS_SUFFIX_SPEC</b><var><a name="index-SYSROOT_005fHEADERS_005fSUFFIX_005fSPEC-3710"></a></var><br>
<blockquote><p>定义该宏，当GCC使用sysroot被配置时，来为目标机的sysroot增加一个headers_suffix。
这将导致GCC将更新的sysroot+headers_suffix传给CPP，
使其在sysroot+headers_suffix下查找usr/include等。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>EXTRA_SPECS</b><var><a name="index-EXTRA_005fSPECS-3711"></a></var><br>
<blockquote><p>定义该宏，来提供放在<samp><span class="file">specs</span></samp>文件中，
可以被各种specification，像<code>CC1_SPEC</code>，使用的额外的specification。

      <p>定义应该为一个结构体数组的初始化值，其包含一个字符串常量，
定义了specification的名字，以及一个字符串常量，提供相应的specification。

      <p>如果不需要做任何事情的话，则不要定义该宏。

      <p>当一种体系结构包含多个相关的目标机，所具有的各种<code>_SPECS</code>彼此很相似
的时候，<code>EXTRA_SPECS</code>会很有用，维护者会希望有一个地方来集中保存这些定义。

      <p>例如，PowerPC System V.4的目标机使用<code>EXTRA_SPECS</code>，
在System V调用序列被使用时，来定义<code>_CALL_SYSV</code>，
在较老的基于AIX的调用序列被使用时，来定义<code>_CALL_AIX</code>。

      <p><samp><span class="file">config/rs6000/rs6000.h</span></samp>目标机文件这样定义:

     <pre class="smallexample">          #define EXTRA_SPECS \
            { "cpp_sysv_default", CPP_SYSV_DEFAULT },
          
          #define CPP_SYS_DEFAULT ""
</pre>
      <p><samp><span class="file">config/rs6000/sysv.h</span></samp>目标机文件这样定义:
     <pre class="smallexample">          #undef CPP_SPEC
          #define CPP_SPEC \
          "%{posix: -D_POSIX_SOURCE } \
          %{mcall-sysv: -D_CALL_SYSV } \
          %{!mcall-sysv: %(cpp_sysv_default) } \
          %{msoft-float: -D_SOFT_FLOAT} %{mcpu=403: -D_SOFT_FLOAT}"
          
          #undef CPP_SYSV_DEFAULT
          #define CPP_SYSV_DEFAULT "-D_CALL_SYSV"
</pre>
      <p>而<samp><span class="file">config/rs6000/eabiaix.h</span></samp>目标机文件将<code>CPP_SYSV_DEFAULT</code>定义为:

     <pre class="smallexample">          #undef CPP_SYSV_DEFAULT
          #define CPP_SYSV_DEFAULT "-D_CALL_AIX"
</pre>
      </blockquote></div>

<div class="defun">
&mdash; Macro: <b>LINK_LIBGCC_SPECIAL_1</b><var><a name="index-LINK_005fLIBGCC_005fSPECIAL_005f1-3712"></a></var><br>
<blockquote><p>定义该宏，如果驱动程序应该找到库<samp><span class="file">libgcc.a</span></samp>。
如果没有定义该宏，则驱动程序将参数<samp><span class="option">-lgcc</span></samp>传给连接器，告诉连接器来查找。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>LINK_GCC_C_SEQUENCE_SPEC</b><var><a name="index-LINK_005fGCC_005fC_005fSEQUENCE_005fSPEC-3713"></a></var><br>
<blockquote><p>指定给连接器的libgcc和libc的顺序。缺省为<code>%G %L %G</code>。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>LINK_COMMAND_SPEC</b><var><a name="index-LINK_005fCOMMAND_005fSPEC-3714"></a></var><br>
<blockquote><p>一个C字符串常量，给出执行连接器所需的完整的命令行。当定义时，
每次在<samp><span class="file">gcc.c</span></samp>中对连接器命令行的修改，你都需要更新你的port。
因此，只有当你需要完全重定义所调用的连接器的命令行，并且没有其他方式来完成时，
才定义该宏。可以通过<code>LINK_GCC_C_SEQUENCE_SPEC</code>来替代该宏。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>LINK_ELIMINATE_DUPLICATE_LDIRECTORIES</b><var><a name="index-LINK_005fELIMINATE_005fDUPLICATE_005fLDIRECTORIES-3715"></a></var><br>
<blockquote><p>一个非零值，
使得<samp><span class="command">collect2</span></samp>从连接命令中移除重复的<samp><span class="option">-L</span><var>directory</var></samp>搜索目录。
如果移除重复的搜索目录会改变连接器的语法，则不要定义为非零。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>MULTILIB_DEFAULTS</b><var><a name="index-MULTILIB_005fDEFAULTS-3716"></a></var><br>
<blockquote><p>定义该宏为字符串数组的初始化C表达式，用来告诉驱动器程序对于该目标机，
哪些选项是缺省的，因此当使用<code>MULTILIB_OPTIONS</code>时，不需要单独处理。

      <p>如果在target makefile片段中没有定义<code>MULTILIB_OPTIONS</code>，
或者如果在<code>MULTILIB_OPTIONS</code>中列出的选项中没有被设为缺省的，
则不要定义该宏。参见<a href="_00e7_009b_00ae_00e6_00a0_0087_00e6_009c_00ba_00e7_0089_0087_00e6_00ae_00b5.html#g_t_00e7_009b_00ae_00e6_00a0_0087_00e6_009c_00ba_00e7_0089_0087_00e6_00ae_00b5">目标机片段</a>。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>RELATIVE_PREFIX_NOT_LINKDIR</b><var><a name="index-RELATIVE_005fPREFIX_005fNOT_005fLINKDIR-3717"></a></var><br>
<blockquote><p>定义该宏来告诉<samp><span class="command">gcc</span></samp>，
如果前缀指示了一个绝对的文件名，
则其应该只将<samp><span class="option">-B</span></samp>的前缀转换成<samp><span class="option">-L</span></samp>连接器选项，
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>MD_EXEC_PREFIX</b><var><a name="index-MD_005fEXEC_005fPREFIX-3718"></a></var><br>
<blockquote><p>如果定义，该宏为一个可选前缀，其在<code>STANDARD_EXEC_PREFIX</code>之后进行尝试。
当使用<samp><span class="option">-b</span></samp>选项，或者编译器被构建为交叉编译器时，
将不搜索<code>MD_EXEC_PREFIX</code>。如果你定义了<code>MD_EXEC_PREFIX</code>，
则要确保将其增加到<samp><span class="file">configure.in</span></samp>中用于查找汇编器的目录列表中。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>STANDARD_STARTFILE_PREFIX</b><var><a name="index-STANDARD_005fSTARTFILE_005fPREFIX-3719"></a></var><br>
<blockquote><p>定义该宏为C字符串常量，
如果你希望覆盖将<code>libdir</code>作为前缀来搜索起始文件<samp><span class="file">crt0.o</span></samp>等的标准选择。
当构建为交叉编译器时，<code>STANDARD_STARTFILE_PREFIX</code>不被搜索。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>STANDARD_STARTFILE_PREFIX_1</b><var><a name="index-STANDARD_005fSTARTFILE_005fPREFIX_005f1-3720"></a></var><br>
<blockquote><p>定义该宏为C字符串常量，如果你希望覆盖在缺省前缀之后，
将<code>/lib</code>作为前缀来搜索起始文件<samp><span class="file">crt0.o</span></samp>等的标准选择。
当构建为交叉编译器时，<code>STANDARD_STARTFILE_PREFIX_1</code>不被搜索。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>STANDARD_STARTFILE_PREFIX_2</b><var><a name="index-STANDARD_005fSTARTFILE_005fPREFIX_005f2-3721"></a></var><br>
<blockquote><p>定义该宏为C字符串常量，如果你希望覆盖在缺省前缀之后，
将<code>/lib</code>作为前缀来搜索起始文件<samp><span class="file">crt0.o</span></samp>等的标准选择。
当构建为交叉编译器时，<code>STANDARD_STARTFILE_PREFIX_2</code>不被搜索。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>MD_STARTFILE_PREFIX</b><var><a name="index-MD_005fSTARTFILE_005fPREFIX-3722"></a></var><br>
<blockquote><p>如果定义，该宏提供了额外的前缀，在标准前缀之后被尝试。
当使用<samp><span class="option">-b</span></samp>选项，或者编译器被构建为交叉编译器时，
将不搜索<code>MD_EXEC_PREFIX</code>。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>MD_STARTFILE_PREFIX_1</b><var><a name="index-MD_005fSTARTFILE_005fPREFIX_005f1-3723"></a></var><br>
<blockquote><p>如果定义，该宏提供了另一个额外的前缀，在标准前缀之后被尝试。
当使用<samp><span class="option">-b</span></samp>选项，或者编译器被构建为交叉编译器时，其将不被搜索。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>INIT_ENVIRONMENT</b><var><a name="index-INIT_005fENVIRONMENT-3724"></a></var><br>
<blockquote><p>定义该宏为C字符串常量，如果你希望为驱动器调用的程序，例如汇编器和连接器，
来设置的环境变量。驱动器将该宏的值传给<code>putenv</code>来初始化需要的环境变量。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>LOCAL_INCLUDE_DIR</b><var><a name="index-LOCAL_005fINCLUDE_005fDIR-3725"></a></var><br>
<blockquote><p>定义该宏为C字符串常量，如果你希望覆写当尝试搜索局部头文件时，
将<samp><span class="file">/usr/local/include</span></samp>作为缺省前缀的标准选择。
在搜索顺序中，<code>LOCAL_INCLUDE_DIR</code>位于<code>SYSTEM_INCLUDE_DIR</code>之前。

      <p>交叉编译器既不搜索<samp><span class="file">/usr/local/include</span></samp>，也不搜索它的替换者。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>MODIFY_TARGET_NAME</b><var><a name="index-MODIFY_005fTARGET_005fNAME-3726"></a></var><br>
<blockquote><p>定义该宏，如果你希望定义命令行开关来修改缺省的目标机名字。

      <p>对于每个开关，你可以包含一个字符串，用来追加到配置名字的第一部分，
或者如果有的话，从配置名字中删除。该定义为一个结构体数组的初始化值。
每个数组元素具有三个元素：开关名（字符串常量，包括起始的横线），
一个枚举常量<code>ADD</code>或者<code>DELETE</code>，来表示插入或者删除字符串，
以及要插入或者删除的字符串（字符串常量）。

      <p>例如，在一台机器上，配置名字的结尾为&lsquo;<samp><span class="samp">64</span></samp>&rsquo;表示其为64位目标机，
你想使用<samp><span class="option">-32</span></samp>和<samp><span class="option">-64</span></samp>开关来选择32位和64位目标机，则代码为

     <pre class="smallexample">          #define MODIFY_TARGET_NAME \
            { { "-32", DELETE, "64"}, \
               {"-64", ADD, "64"}}
</pre>
      </blockquote></div>

<div class="defun">
&mdash; Macro: <b>SYSTEM_INCLUDE_DIR</b><var><a name="index-SYSTEM_005fINCLUDE_005fDIR-3727"></a></var><br>
<blockquote><p>定义该宏作为C字符串常量，
如果你希望指定一个系统特定的目录在标准目录之前来搜索头文件。
在搜索顺序中，<code>SYSTEM_INCLUDE_DIR</code>位于<code>STANDARD_INCLUDE_DIR</code>之前。

      <p>交叉编译器不使用该宏，并且不搜索所指定的目录。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>STANDARD_INCLUDE_DIR</b><var><a name="index-STANDARD_005fINCLUDE_005fDIR-3728"></a></var><br>
<blockquote><p>定义该宏为C字符串常量，
如果你希望覆写将<samp><span class="file">/usr/include</span></samp>作为缺省前缀来尝试搜索头文件的标准选择。

      <p>交叉编译器忽略该宏，并且不搜索<samp><span class="file">/usr/include</span></samp>和它的替换者。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>STANDARD_INCLUDE_COMPONENT</b><var><a name="index-STANDARD_005fINCLUDE_005fCOMPONENT-3729"></a></var><br>
<blockquote><p>“component”对应于<code>STANDARD_INCLUDE_DIR</code>。关于组件的描述，
参见下面的<code>INCLUDE_DEFAULTS</code>。如果你没有定义该宏，则不使用组件。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>INCLUDE_DEFAULTS</b><var><a name="index-INCLUDE_005fDEFAULTS-3730"></a></var><br>
<blockquote><p>定义该宏，如果你希望覆写include文件的全部缺省搜索路径。对于一个本地编译器，
缺省搜索路径通常由<code>GCC_INCLUDE_DIR</code>, <code>LOCAL_INCLUDE_DIR</code>,
<code>SYSTEM_INCLUDE_DIR</code>, <code>GPLUSPLUS_INCLUDE_DIR</code>和
<code>STANDARD_INCLUDE_DIR</code>组成。另外，<code>GPLUSPLUS_INCLUDE_DIR</code>和
<code>GCC_INCLUDE_DIR</code>由<samp><span class="file">Makefile</span></samp>自动定义，并指定为GCC的私有搜索区域。
目录<code>GPLUSPLUS_INCLUDE_DIR</code>只用于C++程序。

      <p>该定义为一个结构体数组的初始化值。
每个数组元素具有四个元素：目录名（字符串常量），
组件名（也是字符串常量），一个标志用来指示只用于C++，
以及一个标志用来表示当编译C++时，对该目录下include进来的代码，
不需要使用<code>extern &lsquo;</code><samp><span class="samp">C</span></samp><code>&rsquo;</code>进行包裹。
使用空元素来标记数组的结尾。

      <p>组件名指出了include文件属于什么GNU包，如果存在，则全部使用大写字母。
例如，可能为&lsquo;<samp><span class="samp">GCC</span></samp>&rsquo;或&lsquo;<samp><span class="samp">BINUTILS</span></samp>&rsquo;。
如果程序包是商家提供的操作系统的一部分，则将名字写为&lsquo;<samp><span class="samp">0</span></samp>&rsquo;。

      <p>例如，这是用于VAX/VMS的定义:

     <pre class="smallexample">          #define INCLUDE_DEFAULTS \
          {                                       \
            { "GNU_GXX_INCLUDE:", "G++", 1, 1},   \
            { "GNU_CC_INCLUDE:", "GCC", 0, 0},    \
            { "SYS$SYSROOT:[SYSLIB.]", 0, 0, 0},  \
            { ".", 0, 0, 0},                      \
            { 0, 0, 0, 0}                         \
          }
</pre>
      </blockquote></div>

 <p>这些是尝试查找exec文件的前缀顺序：

     <ol type=1 start=1>
<li>用户使用<samp><span class="option">-B</span></samp>指定的前缀。

     <li>环境变量<code>GCC_EXEC_PREFIX</code>，
或者如果<code>GCC_EXEC_PREFIX</code>没有被设置并且编译器没有被安装到配置时的<var>prefix</var>处，
则搜索编译器实际被安装的位置。

     <li>环境变量<code>COMPILER_PATH</code>指定的目录。

     <li>宏<code>STANDARD_EXEC_PREFIX</code>，如果编译器安装在配置时的<var>prefix</var>处。

     <li>位置<samp><span class="file">/usr/libexec/gcc/</span></samp>，仅当是本地编译器。

     <li>位置<samp><span class="file">/usr/lib/gcc/</span></samp>，仅当是本地编译器。

     <li>宏<code>MD_EXEC_PREFIX</code>，如果定义，仅当是本地编译器。
      </ol>

 <p>这些是尝试查找启动文件的前缀顺序：

     <ol type=1 start=1>
<li>用户使用<samp><span class="option">-B</span></samp>指定的前缀。

     <li>环境变量<code>GCC_EXEC_PREFIX</code>，或者基于工具链的安装位置被自动确定的值。

     <li>由环境变量<code>LIBRARY_PATH</code>指定的目录（或者port特定的名字，只用于本地编译器，
交叉编译器不使用）。

     <li>宏<code>STANDARD_EXEC_PREFIX</code>，但只当工具链被安装在配置的<var>prefix</var>处，
或者为本地编译器。

     <li>位置<samp><span class="file">/usr/lib/gcc/</span></samp>，仅当是本地编译器。

     <li>宏<code>MD_EXEC_PREFIX</code>，如果定义，仅当是本地编译器。

     <li>宏<code>MD_STARTFILE_PREFIX</code>，如果定义，
仅当为本地编译器，或者具有目标机系统根目录（system root）。

     <li>宏<code>MD_STARTFILE_PREFIX_1</code>，如果定义，
仅当为本地编译器，或者具有目标机系统根目录。

     <li>宏<code>STANDARD_STARTFILE_PREFIX</code>，带有任何sysroot的修改。
如果该路径相关，则会加上<code>GCC_EXEC_PREFIX</code>前缀和机器后缀，
或者<code>STANDARD_EXEC_PREFIX</code>和机器后缀。

     <li>宏<code>STANDARD_STARTFILE_PREFIX_1</code>，仅当为本地编译器，
或者具有目标机系统根目录。该宏的缺省值为<samp><span class="file">/lib/</span></samp>。

     <li>宏<code>STANDARD_STARTFILE_PREFIX_2</code>，仅当为本地编译器，
或者具有目标机系统根目录。该宏的缺省值为<samp><span class="file">/usr/lib/</span></samp>。
      </ol>

 </body></html>

