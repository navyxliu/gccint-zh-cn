<html lang="zh">
<head>
<title>清除 - GNU Compiler Collection (GCC) Internals</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Compiler Collection (GCC) Internals">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="_00e8_00af_00ad_00e5_008f_00a5.html#g_t_00e8_00af_00ad_00e5_008f_00a5" title="语句">
<link rel="prev" href="_00e8_00b7_00b3_00e8_00bd_00ac.html#g_t_00e8_00b7_00b3_00e8_00bd_00ac" title="跳转">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
版权 (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008 自由软件基金会

您可以依据自由软件基金会所发行的GNU自由文档授权1.2版本或者之后的任何版本，
对本文档进行复制，分发和/或修改；其中不可变章节为"资助自由软件"，封面文
字为 (a) (参见下面)，以及封底文字为 (b) (参见下面)。授权的副本要被包含在
标题为"GNU自由文档授权"的章节中。

(a) FSF的封面文字为：

     GNU 手册

(b) FSF的封底文字为：

     您可以自由复制和修改本GNU手册，如同GNU软件。由自由软件基金会所发行
     的副本用于为GNU开发筹集资金。-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="%e6%b8%85%e9%99%a4"></a>
<a name="g_t_00e6_00b8_0085_00e9_0099_00a4"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="_00e8_00b7_00b3_00e8_00bd_00ac.html#g_t_00e8_00b7_00b3_00e8_00bd_00ac">跳转</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="_00e8_00af_00ad_00e5_008f_00a5.html#g_t_00e8_00af_00ad_00e5_008f_00a5">语句</a>
<hr>
</div>

<h4 class="subsection">11.1.5 清除</h4>

<p><a name="index-Cleanups-2673"></a>对于C++局部对象的析构，以及类似的动态清除操作在GIMPLE中通过一个<code>TRY_FINALLY_EXPR</code>来表示。<code>TRY_FINALLY_EXPR</code>有两个操作数，均为要执行的语句序列。第一个序列会被执行。当其执行完毕时，第二个序列会被执行。

 <p>第一个序列可以按照下列方式来执行完毕：

     <ol type=1 start=1>

     <li>执行了序列中的最后一条语句，并结束。

     <li>执行一个goto语句(<code>GOTO_EXPR</code>)，跳到序列之外的一个普通标号。 t

     <li>执行一个return语句(<code>RETURN_EXPR</code>)。

     <li>抛出一个异常。这在当前没有用GIMPLE显式的表示。

      </ol>

 <p>如果第一个序列通过调用<code>setjmp</code>或<code>exit</code>，或者其它不返回的函数，来执行完毕，则第二个序列不会被执行。如果第一个序列通过一个非局部goto或者一个计算goto（总的来说，编译器不知道这样一个goto语句是否会退出第一个序列，所以我们假设其没有退出）来执行完毕，则第二个序列也不会被执行。

 <p>第二个序列被执行完之后，如果其正常的执行到结尾，并结束，则只要第一个序列被继续执行，其也会被继续。

 <p><code>TRY_FINALLY_EXPR</code>使流图变得复杂，因为清除工作需要在流出控制块的每条边上都出现；这就减少了将代码跨越这些边进行移动的自由。因此，运行于大多数优化过程之前的EH下降过程，通过显式的增加对每个边的清除操作，来消除这些表达式。再次抛出异常使用<code>RESX_EXPR</code>来表示。

<!-- Copyright (c) 2008, 2009 Free Software Foundation, Inc. -->
<!-- Free Software Foundation, Inc. -->
<!-- This is part of the GCC manual. -->
<!-- For copying conditions, see the file gcc.texi. -->
 </body></html>

