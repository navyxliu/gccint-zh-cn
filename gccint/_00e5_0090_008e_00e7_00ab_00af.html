<html lang="zh">
<head>
<title>后端 - GNU Compiler Collection (GCC) Internals</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Compiler Collection (GCC) Internals">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="gcc_00e7_009b_00ae_00e5_00bd_0095.html#gcc_00e7_009b_00ae_00e5_00bd_0095" title="gcc目录">
<link rel="prev" href="_00e5_0089_008d_00e7_00ab_00af.html#g_t_00e5_0089_008d_00e7_00ab_00af" title="前端">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
版权 (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008 自由软件基金会

您可以依据自由软件基金会所发行的GNU自由文档授权1.2版本或者之后的任何版本，
对本文档进行复制，分发和/或修改；其中不可变章节为"资助自由软件"，封面文
字为 (a) (参见下面)，以及封底文字为 (b) (参见下面)。授权的副本要被包含在
标题为"GNU自由文档授权"的章节中。

(a) FSF的封面文字为：

     GNU 手册

(b) FSF的封底文字为：

     您可以自由复制和修改本GNU手册，如同GNU软件。由自由软件基金会所发行
     的副本用于为GNU开发筹集资金。-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="%e5%90%8e%e7%ab%af"></a>
<a name="g_t_00e5_0090_008e_00e7_00ab_00af"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="_00e5_0089_008d_00e7_00ab_00af.html#g_t_00e5_0089_008d_00e7_00ab_00af">前端</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="gcc_00e7_009b_00ae_00e5_00bd_0095.html#gcc_00e7_009b_00ae_00e5_00bd_0095">gcc目录</a>
<hr>
</div>

<h4 class="subsection">6.3.9 目标机后端剖析</h4>

<p>GCC中与目标体系结构相关的后端包括下面的部分：

     <ul>
<li>位于<samp><span class="file">gcc/config</span></samp>下面的目录<samp><var>machine</var></samp>，
包括一个机器描述文件<samp><var>machine</var><span class="file">.md</span></samp>（参见<a href="_00e6_009c_00ba_00e5_0099_00a8_00e6_008f_008f_00e8_00bf_00b0.html#g_t_00e6_009c_00ba_00e5_0099_00a8_00e6_008f_008f_00e8_00bf_00b0">机器描述</a>），
头文件<samp><var>machine</var><span class="file">.h</span></samp>和<samp><var>machine</var><span class="file">-protos.h</span></samp>，
以及一个源文件<samp><var>machine</var><span class="file">.c</span></samp>（参见<a href="_00e7_009b_00ae_00e6_00a0_0087_00e5_00ae_008f.html#g_t_00e7_009b_00ae_00e6_00a0_0087_00e5_00ae_008f">目标描述的宏和函数</a>），
可能会有一个目标Makefile片段<samp><span class="file">t-</span><var>machine</var></samp>
（参见<a href="_00e7_009b_00ae_00e6_00a0_0087_00e7_0089_0087_00e6_00ae_00b5.html#g_t_00e7_009b_00ae_00e6_00a0_0087_00e7_0089_0087_00e6_00ae_00b5">目标Makefile片段</a>），以及其它文件。
可以在<samp><span class="file">config.gcc</span></samp>中通过显示指出来改变文件的缺省名字。
<li>如果需要的话，
在<samp><var>machine</var></samp>目录下会有一个文件<samp><var>machine</var><span class="file">-modes.def</span></samp>，
包含了附加的机器模式用来表示条件代码。详情参见<a href="_00e6_009d_00a1_00e4_00bb_00b6_00e4_00bb_00a3_00e7_00a0_0081.html#g_t_00e6_009d_00a1_00e4_00bb_00b6_00e4_00bb_00a3_00e7_00a0_0081">条件代码</a>。
<li>在<samp><var>machine</var></samp>目录下，有一个可选的<samp><var>machine</var><span class="file">.opt</span></samp>文件，
包含了一个目标特定的选项列表。
你也可以通过在<samp><span class="file">config.gcc</span></samp>中使用<code>extra_options</code>变量来增加其它的
选项文件。参见<a href="_00e9_0080_0089_00e9_00a1_00b9.html#g_t_00e9_0080_0089_00e9_00a1_00b9">选项</a>。
<li>在<samp><span class="file">config.gcc</span></samp>（参见<a href="_00e7_00b3_00bb_00e7_00bb_009f_00e9_0085_008d_00e7_00bd_00ae.html#g_t_00e7_00b3_00bb_00e7_00bb_009f_00e9_0085_008d_00e7_00bd_00ae"><samp><span class="file">config.gcc</span></samp> 文件</a>）中，
该目标体系结构与系统相关的条目。
<li>在<samp><span class="file">gcc/doc/invoke.texi</span></samp>中关于该目标所支持的任何命令行选项的文档
（参见运行时目标规定）。
这意味着在选项的汇总表中以及单个选项的详细描述中都要有相关的条目。
<li>在<samp><span class="file">gcc/doc/extend.texi</span></samp>中关于所支持的目标特定属性的文档
（参见__attribute__的目标特定用法），
包括在哪些地方已经被其它一些目标所支持的相同属性，以及哪些在手册中已经被列举。
<li>在<samp><span class="file">gcc/doc/extend.texi</span></samp>中关于支持的所有目标特定pragma的文档。
<li>在<samp><span class="file">gcc/doc/extend.texi</span></samp>中关于支持的所有目标特定built-in函数的文档。
<li>在<samp><span class="file">gcc/doc/extend.texi</span></samp>中关于支持的所有目标特定格式检测风格的文档。
<li>在<samp><span class="file">gcc/doc/md.texi</span></samp>中关于所有目标特定的约束字母的文档
（参见<a href="_00e7_0089_00b9_00e5_00ae_009a_00e6_009c_00ba_00e5_0099_00a8_00e7_009a_0084_00e7_00ba_00a6_00e6_009d_009f.html#g_t_00e7_0089_00b9_00e5_00ae_009a_00e6_009c_00ba_00e5_0099_00a8_00e7_009a_0084_00e7_00ba_00a6_00e6_009d_009f">特定机器的约束</a>）。
<li>在<samp><span class="file">gcc/doc/contrib.texi</span></samp>中记录下由谁提供的目标支持。
<li>在<samp><span class="file">gcc/doc/install.texi</span></samp>中关于该目标体系结构支持的所有目标三元参数，
给出该目标安装所需要的特殊注解或者注明没有。
<li>可能在<samp><span class="file">gcc</span></samp>目录之外会有其它运行库的支持。FIXME：关于这方面的参考文档。
这个工作需要安装libstdc++移植手册或者将其作为本手册的一章。
</ul>

 <p>如果是添加到GCC官方CVS库中的后端，还需要下面的内容：

     <ul>
<li>在GCC网站上的<samp><span class="file">readings.html</span></samp>中有一条关于目标体系结构的记录，
并带有任何相关的链接。
<li>在GCC网站上的<samp><span class="file">backends.html</span></samp>中有关于后端和目标体系结构的详细特性。
<li>在GCC网站上的<samp><span class="file">index.html</span></samp>中有一条关于提供目标体系结构支持的消息公告。
<li>通常的，会在<samp><span class="file">MAINTAINERS</span></samp>中列出该目标的一个或多个维护者。
虽然有些现存的体系结构可能没有被维护了，
但是通常是不会为没有维护者的目标提供支持的。
</ul>

 </body></html>

