<html lang="zh">
<head>
<title>RTL类别 - GNU Compiler Collection (GCC) Internals</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Compiler Collection (GCC) Internals">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="RTL.html#RTL" title="RTL">
<link rel="prev" href="RTL_00e5_00af_00b9_00e8_00b1_00a1.html#RTL_00e5_00af_00b9_00e8_00b1_00a1" title="RTL对象">
<link rel="next" href="_00e8_00ae_00bf_00e9_0097_00ae_00e6_0096_00b9_00e5_00bc_008f.html#g_t_00e8_00ae_00bf_00e9_0097_00ae_00e6_0096_00b9_00e5_00bc_008f" title="访问方式">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
版权 (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008 自由软件基金会

您可以依据自由软件基金会所发行的GNU自由文档授权1.2版本或者之后的任何版本，
对本文档进行复制，分发和/或修改；其中不可变章节为"资助自由软件"，封面文
字为 (a) (参见下面)，以及封底文字为 (b) (参见下面)。授权的副本要被包含在
标题为"GNU自由文档授权"的章节中。

(a) FSF的封面文字为：

     GNU 手册

(b) FSF的封底文字为：

     您可以自由复制和修改本GNU手册，如同GNU软件。由自由软件基金会所发行
     的副本用于为GNU开发筹集资金。-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="RTL%e7%b1%bb%e5%88%ab"></a>
<a name="RTL_00e7_00b1_00bb_00e5_0088_00ab"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="_00e8_00ae_00bf_00e9_0097_00ae_00e6_0096_00b9_00e5_00bc_008f.html#g_t_00e8_00ae_00bf_00e9_0097_00ae_00e6_0096_00b9_00e5_00bc_008f">访问方式</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="RTL_00e5_00af_00b9_00e8_00b1_00a1.html#RTL_00e5_00af_00b9_00e8_00b1_00a1">RTL对象</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="RTL.html#RTL">RTL</a>
<hr>
</div>

<h3 class="section">10.2 RTL类别和格式</h3>

<p><a name="index-RTL-classes-2085"></a><a name="index-classes-of-RTX-codes-2086"></a><a name="index-RTX-codes_002c-classes-of-2087"></a><a name="index-GET_005fRTX_005fCLASS-2088"></a>
不同的表达式代码被分为几个类别（<dfn>classes</dfn>），其有单个字符表示。你可以使用宏<code>GET_RTX_CLASS (</code><var>code</var><code>)</code>来确定RTX代码的类别。当前，<samp><span class="file">rtl.def</span></samp>定义了这些类别：

     <dl>
<dt><code>RTX_OBJ</code><dd>一个RTX代码，表示一个实际的对象，例如一个寄存器(<code>REG</code>)或者一个内存位置(<code>MEM</code>, <code>SYMBOL_REF</code>)。也包括<code>LO_SUM</code>)；但是，<code>SUBREG</code>和<code>STRICT_LOW_PART</code>不在这个类别中，而是在<code>x</code>类别中。

     <br><dt><code>RTX_CONST_OBJ</code><dd>一个RTX代码，表示一个常量对象。<code>HIGH</code>也包含在该类别中。

     <br><dt><code>RTX_COMPARE</code><dd>一个RTX代码，针对一个非对称的比较，例如<code>GEU</code>或<code>LT</code>。

     <br><dt><code>RTX_COMM_COMPARE</code><dd>一个RTX代码，针对一个对称（可交换）比较，例如，例如<code>EQ</code>或<code>ORDERED</code>。

     <br><dt><code>RTX_UNARY</code><dd>一个RTX代码，针对一元算术运算，例如<code>NEG</code>，<code>NOT</code>或者<code>ABS</code>。这个类别还包括值扩展（符号扩展或者零扩展），以及整数和浮点之间的转换。

     <br><dt><code>RTX_COMM_ARITH</code><dd>一个RTX代码，针对可交换的二元运算，例如<code>PLUS</code>或者<code>AND</code>。<code>NE</code>和<code>EQ</code>为比较运算，所以它们具有类别<code>&lt;</code>。

     <br><dt><code>RTX_BIN_ARITH</code><dd>一个RTX代码，针对不可交换的二元运算，例如<code>MINUS</code>，<code>DIV</code>或者<code>ASHIFTRT</code>。

     <br><dt><code>RTX_BITFIELD_OPS</code><dd>一个RTX代码，针对位域运算。当前只有<code>ZERO_EXTRACT</code>和<code>SIGN_EXTRACT</code>。这些有三个输入，并且为左值。See <a href="Bit_002dFields.html#Bit_002dFields">Bit-Fields</a>

     <br><dt><code>RTX_TERNARY</code><dd>一个RTX代码，针对其它有三个输入的运算。当前只有<code>IF_THEN_ELSE</code>和<code>VEC_MERGE</code>。

     <br><dt><code>RTX_INSN</code><dd>一个RTX代码，针对整个指令：<code>INSN</code>，<code>JUMP_INSN</code>和<code>CALL_INSN</code>。See <a href="Insns.html#Insns">Insns</a>

     <br><dt><code>RTX_MATCH</code><dd>一个RTX代码，针对在insn中的一些匹配，例如<code>MATCH_DUP</code>。这些只出现在机器描述中。

     <br><dt><code>RTX_AUTOINC</code><dd>一个RTX代码，针对一个自动增量寻址模式，例如<code>POST_INC</code>。

     <br><dt><code>RTX_EXTRA</code><dd>所有其它的RTX代码。这个类别包括只在机器描述(<code>DEFINE_*</code>等)中使用的其它RTX代码。其还表示所有表述副作用的RTX代码（<code>SET</code>，<code>USE</code>，<code>CLOBBER</code>等），以及在insn链中可能出现的非insn，例如<code>NOTE</code>，<code>BARRIER</code>和<code>CODE_LABEL</code>。<code>SUBREG</code>也属于该类。

 </dl>

 <p><a name="index-RTL-format-2089"></a>对于每个表达式代码，<samp><span class="file">rtl.def</span></samp>使用称作表达式代码格式（<dfn>format</dfn>）的字符序列，来说明所包含的对象数目，以及它们的种类。例如，<code>subreg</code>的格式为&lsquo;<samp><span class="samp">ei</span></samp>&rsquo;。

 <p><a name="index-RTL-format-characters-2090"></a>这些是最常用的格式字符：

     <dl>
<dt><code>e</code><dd>一个表达式（实际是一个表达式指针）

     <br><dt><code>i</code><dd>一个整数。

     <br><dt><code>w</code><dd>一个宽整数。

     <br><dt><code>s</code><dd>一个字符串。

     <br><dt><code>E</code><dd>一个表达式向量。
</dl>

 <p>还有一些其它的格式字符有时会被用到：

     <dl>
<dt><code>u</code><dd>&lsquo;<samp><span class="samp">u</span></samp>&rsquo;等价于&lsquo;<samp><span class="samp">e</span></samp>&rsquo;，只不过是在调试转储中的打印有所区别。其用于insn指针。

     <br><dt><code>n</code><dd>&lsquo;<samp><span class="samp">n</span></samp>&rsquo;等价于&lsquo;<samp><span class="samp">i</span></samp>&rsquo;， 只不过是在调试转储中的打印有所区别。其用于<code>note</code> insn的行号和代码号。

     <br><dt><code>S</code><dd>&lsquo;<samp><span class="samp">S</span></samp>&rsquo;表示一个可选的字符串。在内部的RTX对象中，&lsquo;<samp><span class="samp">S</span></samp>&rsquo;等价于&lsquo;<samp><span class="samp">s</span></samp>&rsquo;，但当对象从&lsquo;<samp><span class="samp">md</span></samp>&rsquo;文件中读取的时候，该操作数的字符串值可以被忽略。被忽略的字符串被当作一个空字符串。

     <br><dt><code>V</code><dd>&lsquo;<samp><span class="samp">V</span></samp>&rsquo;表示一个可选的向量。在内部的RTX对象中，&lsquo;<samp><span class="samp">V</span></samp>&rsquo;等价于&lsquo;<samp><span class="samp">E</span></samp>&rsquo;，但是当对象从&lsquo;<samp><span class="samp">md</span></samp>&rsquo;文件中读取的时候，该操作数的向量值可以被忽略。被忽略的向量被当作一个没有元素的向量。

     <br><dt><code>B</code><dd>&lsquo;<samp><span class="samp">B</span></samp>&rsquo;表示一个指向基本块结构体的指针。

     <br><dt><code>0</code><dd>&lsquo;<samp><span class="samp">0</span></samp>&rsquo;表示一个插槽，其内容不使用任何常规的类别。&lsquo;<samp><span class="samp">0</span></samp>&rsquo;插槽根本不在转储中打印，通常在编译器中用于特定的方式。
</dl>

 <p>这些是获得操作数数目和表达式代码格式的宏：

     
<a name="index-GET_005fRTX_005fLENGTH-2091"></a>
<dl><dt><code>GET_RTX_LENGTH (</code><var>code</var><code>)</code><dd>代码为<var>code</var>的RTX的操作数个数。

     <p><a name="index-GET_005fRTX_005fFORMAT-2092"></a><br><dt><code>GET_RTX_FORMAT (</code><var>code</var><code>)</code><dd>代码为<var>code</var>的RTX的格式，为C字符串。
</dl>

 <p>一些RTX代码的类别总是具有相同的格式。例如，可以安全的假设所有的比较运算都具有格式<code>ee</code>。

     <dl>
<dt><code>1</code><dd>所有该类别的代码都具有格式<code>e</code>。

     <br><dt><code>&lt;</code><dt><code>c</code><dt><code>2</code><dd>所有这些类别的代码都具有格式<code>ee</code>。

     <br><dt><code>b</code><dt><code>3</code><dd>所有这些类别的代码都具有格式<code>eee</code>。

     <br><dt><code>i</code><dd>所有该类别的代码具有的格式都起始于<code>iuueiee</code>。See <a href="Insns.html#Insns">Insns</a>注意，并不是所有被链接到insn链表中的RTX对象都属于类别<code>i</code>。

     <br><dt><code>o</code><dt><code>m</code><dt><code>x</code><dd>你可以不去假设这些代码的格式。
</dl>

 </body></html>

