<html lang="en">
<head>
<title>Portability - GNU Compiler Collection (GCC) Internals</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Compiler Collection (GCC) Internals">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="prev" href="Contributing.html#Contributing" title="Contributing">
<link rel="next" href="Interface.html#Interface" title="Interface">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007,
2008, 2010 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``Funding Free Software'', the Front-Cover
Texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
``GNU Free Documentation License''.

(a) The FSF's 封面文字为:

     GNU手册

(b) The FSF's Back-Cover Text is:

     你有复制和修改本GNU手册的自由，如同你拥有的GNU软件的自由一样。FSF出版此拷贝的收入用于资助GNU发展。-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Portability"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Interface.html#Interface">Interface</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Contributing.html#Contributing">Contributing</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="index.html#Top">Top</a>
<hr>
</div>

<h2 class="chapter">2 GCC的可移植性</h2>

<p><a name="index-portability-2"></a><a name="index-GCC-and-portability-3"></a>
GCC自身移植的目标是任何 <code>int</code> 长度不小于32位的机器。
GCC要求的数据内存地址空间是以字节为单位的线性（flat）非分段的地址空间，代码地址空间没有这个限制。
目标机的ABI可以是8、16、32或64-bit <code>int</code> 类型。 <code>char</code> 类型可以大于8bit。

 <p>GCC从机器描述文件（Machine Description，MD）中获取目标机的信息。
MD文件里包含目标机支持的指令的代数规则（algebraic formula）。
这种描述目标机的方法很清晰，但是有时候不足以描述目标机的所有信息。
这个时候就定义一些拼凑的（ad-hoc）参数来填补。
可移植性的目的是为了减少编译器的开发负担，而不是为了可移植而可移植。

 <p><a name="index-endianness-4"></a><a name="index-autoincrement-addressing_002c-availability-5"></a><a name="index-abort-6"></a>
GCC本身没有任何特定平台相关的代码，但是它确实有一些代码依赖于机器的参数特性（parameters），
例如大头格式还是小头格式、是否支持递增寻址。
在RTL生成（RTL-generation）的pass中，
往往需要多个策略（strategies）来为一个特定的语法树（syntax tree）生成代码。
目前普遍的和一些特定的参数组合能被正确处理，不是所有可能的参数组合都被考虑到了。
一个新的目标平台（target）可能需要额外的处理策略。
你可以通过GCC是否异常退出（<code>abort</code>）来判断这一点。
幸运的是新的策略可以以一种机器无关的方式加入，而且仅仅影响使用这个策略的目标平台。

<!-- Copyright (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998, -->
<!-- 1999, 2000, 2001, 2002, 2003, 2004 Free Software Foundation, Inc. -->
<!-- This is part of the GCC manual. -->
<!-- For copying conditions, see the file gcc.texi. -->
 </body></html>

