<html lang="zh">
<head>
<title>文件系统 - GNU Compiler Collection (GCC) Internals</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Compiler Collection (GCC) Internals">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="_00e4_00b8_00bb_00e6_009c_00ba_00e9_0085_008d_00e7_00bd_00ae.html#g_t_00e4_00b8_00bb_00e6_009c_00ba_00e9_0085_008d_00e7_00bd_00ae" title="主机配置">
<link rel="prev" href="_00e4_00b8_00bb_00e6_009c_00ba_00e9_0080_009a_00e7_0094_00a8_00e4_00bf_00a1_00e6_0081_00af.html#g_t_00e4_00b8_00bb_00e6_009c_00ba_00e9_0080_009a_00e7_0094_00a8_00e4_00bf_00a1_00e6_0081_00af" title="主机通用信息">
<link rel="next" href="_00e5_0085_00b3_00e4_00ba_008e_00e4_00b8_00bb_00e6_009c_00ba_00e7_009a_0084_00e5_0085_00b6_00e5_00ae_0083_00e6_009d_0082_00e9_00a1_00b9.html#g_t_00e5_0085_00b3_00e4_00ba_008e_00e4_00b8_00bb_00e6_009c_00ba_00e7_009a_0084_00e5_0085_00b6_00e5_00ae_0083_00e6_009d_0082_00e9_00a1_00b9" title="关于主机的其它杂项">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
版权 (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008 自由软件基金会

您可以依据自由软件基金会所发行的GNU自由文档授权1.2版本或者之后的任何版本，
对本文档进行复制，分发和/或修改；其中不可变章节为"资助自由软件"，封面文
字为 (a) (参见下面)，以及封底文字为 (b) (参见下面)。授权的副本要被包含在
标题为"GNU自由文档授权"的章节中。

(a) FSF的封面文字为：

     GNU 手册

(b) FSF的封底文字为：

     您可以自由复制和修改本GNU手册，如同GNU软件。由自由软件基金会所发行
     的副本用于为GNU开发筹集资金。-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f"></a>
<a name="g_t_00e6_0096_0087_00e4_00bb_00b6_00e7_00b3_00bb_00e7_00bb_009f"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="_00e5_0085_00b3_00e4_00ba_008e_00e4_00b8_00bb_00e6_009c_00ba_00e7_009a_0084_00e5_0085_00b6_00e5_00ae_0083_00e6_009d_0082_00e9_00a1_00b9.html#g_t_00e5_0085_00b3_00e4_00ba_008e_00e4_00b8_00bb_00e6_009c_00ba_00e7_009a_0084_00e5_0085_00b6_00e5_00ae_0083_00e6_009d_0082_00e9_00a1_00b9">关于主机的其它杂项</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="_00e4_00b8_00bb_00e6_009c_00ba_00e9_0080_009a_00e7_0094_00a8_00e4_00bf_00a1_00e6_0081_00af.html#g_t_00e4_00b8_00bb_00e6_009c_00ba_00e9_0080_009a_00e7_0094_00a8_00e4_00bf_00a1_00e6_0081_00af">主机通用信息</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="_00e4_00b8_00bb_00e6_009c_00ba_00e9_0085_008d_00e7_00bd_00ae.html#g_t_00e4_00b8_00bb_00e6_009c_00ba_00e9_0085_008d_00e7_00bd_00ae">主机配置</a>
<hr>
</div>

<h3 class="section">18.2 主机文件系统</h3>

<p><a name="index-configuration-file-4734"></a><a name="index-g_t_0040file_007bxm_002d_0040var_007bmachine_007d_002eh_007d-4735"></a>
GCC需要知道许多关于主机文件系统的语义方面的东西。具有Unix和MS-DOS语义的
文件系统会被自动检测。对于其它系统，你可以在 <samp><span class="file">xm-</span><var>machine</var><span class="file">.h</span></samp>
中定义下列宏。

     <dl>
<dt><code>HAVE_DOS_BASED_FILE_SYSTEM</code><a name="index-HAVE_005fDOS_005fBASED_005fFILE_005fSYSTEM-4736"></a><dd>如果主机文件系统服从MS-DOS而不是Unix定义的语义，则该宏会被 <samp><span class="file">system.h</span></samp>
自动定义。DOS文件系统大小写不敏感，文件描述可以起始于一个驱动字母，并且
斜线和反斜线（&lsquo;<samp><span class="samp">/</span></samp>&rsquo; 和 &lsquo;<samp><span class="samp">\</span></samp>&rsquo;）都是目录分隔符。

     <br><dt><code>DIR_SEPARATOR</code><a name="index-DIR_005fSEPARATOR-4737"></a><dt><code>DIR_SEPARATOR_2</code><a name="index-DIR_005fSEPARATOR_005f2-4738"></a><dd>如果定义，这些宏扩展为字符常量，用来指定在文件描述中的目录名的分隔符。在
Unix和MS-DOS文件系统上，<samp><span class="file">system.h</span></samp> 会自动给出合适的值。如果你的文件
系统不是这些，则在 <samp><span class="file">xm-</span><var>machine</var><span class="file">.h</span></samp> 中定义一个或者这两个合适的值。

     <p>但是，像VMS这样的操作系统，构建路径名要比将目录名通过特定字符进行字符串连
接复杂的多，对于这种情况，则不要定义这些宏。

     <br><dt><code>PATH_SEPARATOR</code><a name="index-PATH_005fSEPARATOR-4739"></a><dd>如果定义，该宏将扩展为一个字符常量，用来指定搜寻路径中元素的分隔符。缺省
值为一个冒号（&lsquo;<samp><span class="samp">:</span></samp>&rsquo;）。基于DOS的系统，通常，并不是所有的，使用分号
（&lsquo;<samp><span class="samp">;</span></samp>&rsquo;）。

     <br><dt><code>VMS</code><a name="index-VMS-4740"></a><dd>如果主机系统为VMS，则定义该宏。

     <br><dt><code>HOST_OBJECT_SUFFIX</code><a name="index-HOST_005fOBJECT_005fSUFFIX-4741"></a><dd>定义该宏为一个C字符串，用来表示在你的主机上目标文件的后缀。如果没有定义该
宏，GCC将会使用 &lsquo;<samp><span class="samp">.o</span></samp>&rsquo; 作为目标文件的后缀。

     <br><dt><code>HOST_EXECUTABLE_SUFFIX</code><a name="index-HOST_005fEXECUTABLE_005fSUFFIX-4742"></a><dd>定义该宏为一个C字符串，用来表示在你的主机上可执行文件的后缀。如果没有定义
该宏，GCC将会使用空字符串作为可执行文件的后缀。

     <br><dt><code>HOST_BIT_BUCKET</code><a name="index-HOST_005fBIT_005fBUCKET-4743"></a><dd>一个路径名，由主机操作系统定义，可以作为一个文件被打开和写入内容，但是所
有写入的信息都将被丢弃。这就是众所皆知的 <dfn>bit bucket</dfn>，或者
<dfn>null device</dfn>。如果没有定义该宏，GCC将使用 &lsquo;<samp><span class="samp">/dev/null</span></samp>&rsquo; 作为
bit bucket。如果主机不支持bit bucket，则将该宏定义为一个无效的文件名。

     <br><dt><code>UPDATE_PATH_HOST_CANONICALIZE (</code><var>path</var><code>)</code><a name="index-UPDATE_005fPATH_005fHOST_005fCANONICALIZE-_0028_0040var_007bpath_007d_0029-4744"></a><dd>如果定义，则为一个C语句（没有分号），当编译驱动器或者预处理器中使用的路径
需要被canonicalized时，用于执行主机相关的 canonicalization。<var>path</var> 是
被malloc出来的。如果C语句将 <var>path</var> canonicalize到一个不同的缓存中，则
旧的路径将被释放，并且新的缓存应该通过malloc被分配。

     <br><dt><code>DUMPFILE_FORMAT</code><a name="index-DUMPFILE_005fFORMAT-4745"></a><dd>定义该宏为一个字符串，用来表示构建调试转储文件名字的索引部分的格式。结果
字符串必须适合15个字节。文件名的全称为：汇编文件名的前缀，应用该模式生成
的索引号，以及每种转储文件所特定的字符串，例如 &lsquo;<samp><span class="samp">rtl</span></samp>&rsquo;。

     <p>如果没有定义该宏，GCC将会使用 &lsquo;<samp><span class="samp">.%02d.</span></samp>&rsquo;。应该在使用缺省方式会生成无效
文件名的情况下，定义该宏。

     <br><dt><code>DELETE_IF_ORDINARY</code><a name="index-DELETE_005fIF_005fORDINARY-4746"></a><dd>定义该宏为一个C语句（没有分号），用来执行主机相关的编译驱动器产生的普通临
时文件的删除操作。

     <p>如果没有定义该宏，GCC将会使用缺省的版本。应该在缺省版本不能可靠的删除临时
文件的情况下，定义该宏。例如，在VMS上，会允许一个文件有多个版本。

     <br><dt><code>HOST_LACKS_INODE_NUMBERS</code><a name="index-HOST_005fLACKS_005fINODE_005fNUMBERS-4747"></a><dd>如果主机文件系统不在struct stat中报告有意义的inode数字时，则定义该宏。
</dl>

 </body></html>

