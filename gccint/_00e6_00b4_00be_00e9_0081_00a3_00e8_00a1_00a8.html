<html lang="zh">
<head>
<title>派遣表 - GNU Compiler Collection (GCC) Internals</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Compiler Collection (GCC) Internals">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="_00e6_00b1_0087_00e7_00bc_0096_00e6_00a0_00bc_00e5_00bc_008f.html#g_t_00e6_00b1_0087_00e7_00bc_0096_00e6_00a0_00bc_00e5_00bc_008f" title="汇编格式">
<link rel="prev" href="_00e6_008c_0087_00e4_00bb_00a4_00e8_00be_0093_00e5_0087_00ba.html#g_t_00e6_008c_0087_00e4_00bb_00a4_00e8_00be_0093_00e5_0087_00ba" title="指令输出">
<link rel="next" href="_00e5_00bc_0082_00e5_00b8_00b8_00e5_008c_00ba_00e5_009f_009f_00e8_00be_0093_00e5_0087_00ba.html#g_t_00e5_00bc_0082_00e5_00b8_00b8_00e5_008c_00ba_00e5_009f_009f_00e8_00be_0093_00e5_0087_00ba" title="异常区域输出">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
版权 (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008 自由软件基金会

您可以依据自由软件基金会所发行的GNU自由文档授权1.2版本或者之后的任何版本，
对本文档进行复制，分发和/或修改；其中不可变章节为"资助自由软件"，封面文
字为 (a) (参见下面)，以及封底文字为 (b) (参见下面)。授权的副本要被包含在
标题为"GNU自由文档授权"的章节中。

(a) FSF的封面文字为：

     GNU 手册

(b) FSF的封底文字为：

     您可以自由复制和修改本GNU手册，如同GNU软件。由自由软件基金会所发行
     的副本用于为GNU开发筹集资金。-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="%e6%b4%be%e9%81%a3%e8%a1%a8"></a>
<a name="g_t_00e6_00b4_00be_00e9_0081_00a3_00e8_00a1_00a8"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="_00e5_00bc_0082_00e5_00b8_00b8_00e5_008c_00ba_00e5_009f_009f_00e8_00be_0093_00e5_0087_00ba.html#g_t_00e5_00bc_0082_00e5_00b8_00b8_00e5_008c_00ba_00e5_009f_009f_00e8_00be_0093_00e5_0087_00ba">异常区域输出</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="_00e6_008c_0087_00e4_00bb_00a4_00e8_00be_0093_00e5_0087_00ba.html#g_t_00e6_008c_0087_00e4_00bb_00a4_00e8_00be_0093_00e5_0087_00ba">指令输出</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="_00e6_00b1_0087_00e7_00bc_0096_00e6_00a0_00bc_00e5_00bc_008f.html#g_t_00e6_00b1_0087_00e7_00bc_0096_00e6_00a0_00bc_00e5_00bc_008f">汇编格式</a>
<hr>
</div>

<h4 class="subsection">17.21.8 派遣表的输出</h4>

<!-- prevent bad page break with this line -->
<p>这些是关于派遣表的。

 <p><a name="index-dispatch-table-4464"></a>

<div class="defun">
&mdash; Macro: <b>ASM_OUTPUT_ADDR_DIFF_ELT</b> (<var>stream, body, value, rel</var>)<var><a name="index-ASM_005fOUTPUT_005fADDR_005fDIFF_005fELT-4465"></a></var><br>
<blockquote><p>一条C语句，用来将汇编伪指令输出到stdio流<var>stream</var>中，
以生成两个标号间的距离。<var>value</var>和<var>rel</var>为两个内部标号的编号。
这些标号的定义通过使用<code>(*targetm.asm_out.internal_label)</code>来输出，
并且它们必须使用相同的方式打印。例如，

     <pre class="smallexample">          fprintf (<var>stream</var>, "\t.word L%d-L%d\n",
                   <var>value</var>, <var>rel</var>)
</pre>
      <p>在一些机器上，派遣表中的地址是相对于表自己的地址，对此你必须提供该宏。
如果定义，GCC还将在生成PIC的所有机器上使用该宏。
<var>body</var>为<code>ADDR_DIFF_VEC</code>的主体；提供它使得可以读取模式和标记。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>ASM_OUTPUT_ADDR_VEC_ELT</b> (<var>stream, value</var>)<var><a name="index-ASM_005fOUTPUT_005fADDR_005fVEC_005fELT-4466"></a></var><br>
<blockquote><p>在一些机器上，派遣表中的地址为绝对地址，对此应该提供该宏。

      <p>定义应该为一条C语句，用来将汇编伪指令输出到stdio流<var>stream</var>中，
以生成对一个标号的引用。<var>value</var>为内部标号的编号，
其定义应该使用<code>(*targetm.asm_out.internal_label)</code>输出。例如，

     <pre class="smallexample">          fprintf (<var>stream</var>, "\t.word L%d\n", <var>value</var>)
</pre>
      </blockquote></div>

<div class="defun">
&mdash; Macro: <b>ASM_OUTPUT_CASE_LABEL</b> (<var>stream, prefix, num, table</var>)<var><a name="index-ASM_005fOUTPUT_005fCASE_005fLABEL-4467"></a></var><br>
<blockquote><p>定义该宏，如果在跳转表之前的标号需要被特殊输出。
前三个参数跟<code>(*targetm.asm_out.internal_label)</code>相同；
第四个参数为随后的跳转表（一个包含<code>addr_vec</code>或<code>addr_diff_vec</code>
的<code>jump_insn</code>）。

      <p>该特点用于system V，来为table输出一条<code>swbeg</code>语句。

      <p>如果没有定义该宏，这些标号使用<code>(*targetm.asm_out.internal_label)</code>输出。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>ASM_OUTPUT_CASE_END</b> (<var>stream, num, table</var>)<var><a name="index-ASM_005fOUTPUT_005fCASE_005fEND-4468"></a></var><br>
<blockquote><p>定义该宏，如果在跳转表的结尾必须输出一些特殊的东西。定义应该为一条C语句，
在写完table的汇编代码后被执行。其应该将适当的代码写入到stdio流<var>stream</var>中。
参数<var>table</var>为jump-table insn，<var>num</var>为前面的标号的编号。

      <p>如果没有定义该宏，在跳转表的结尾不输出任何特殊的东西。
</p></blockquote></div>

<div class="defun">
&mdash; Target Hook: void <b>TARGET_ASM_EMIT_UNWIND_LABEL</b> (<var>stream, decl, for_eh, empty</var>)<var><a name="index-TARGET_005fASM_005fEMIT_005fUNWIND_005fLABEL-4469"></a></var><br>
<blockquote><p>该target钩子在每个FDE的起始处生成一个标号。在一些target上，FDE需要特殊的标号，
对此应该定义该宏。其应该为函数声明<var>decl</var>相关联的FDE写入适当的标号到stdio流
<var>stream</var>中。第三个参数，<var>for_eh</var>，为一个布尔值；当是异常表时为真。
第四个参数<var>empty</var>，为一个布尔值；当是一个省略掉的FDE的占位符标号时为真。

      <p>缺省为FDE不给出非局部标号。
</p></blockquote></div>

<div class="defun">
&mdash; Target Hook: void <b>TARGET_ASM_EMIT_EXCEPT_TABLE_LABEL</b> (<var>stream</var>)<var><a name="index-TARGET_005fASM_005fEMIT_005fEXCEPT_005fTABLE_005fLABEL-4470"></a></var><br>
<blockquote><p>该target钩子在异常表的起始处生成一个标号。在一些target上，
异常表需要根据函数被分割开，对此应该定义该宏。

      <p>缺省为不生成标号。
</p></blockquote></div>

<div class="defun">
&mdash; Target Hook: void <b>TARGET_UNWIND_EMIT</b> (<var>FILE * stream, rtx insn</var>)<var><a name="index-TARGET_005fUNWIND_005fEMIT-4471"></a></var><br>
<blockquote><p>该target钩子生成需要展开给定指定的汇编伪指令。
这只在设置了TARGET_UNWIND_INFO的时候才被使用。
</p></blockquote></div>

 </body></html>

