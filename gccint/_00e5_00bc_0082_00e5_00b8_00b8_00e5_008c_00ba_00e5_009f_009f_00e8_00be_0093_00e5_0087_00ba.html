<html lang="zh">
<head>
<title>异常区域输出 - GNU Compiler Collection (GCC) Internals</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Compiler Collection (GCC) Internals">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="_00e6_00b1_0087_00e7_00bc_0096_00e6_00a0_00bc_00e5_00bc_008f.html#g_t_00e6_00b1_0087_00e7_00bc_0096_00e6_00a0_00bc_00e5_00bc_008f" title="汇编格式">
<link rel="prev" href="_00e6_00b4_00be_00e9_0081_00a3_00e8_00a1_00a8.html#g_t_00e6_00b4_00be_00e9_0081_00a3_00e8_00a1_00a8" title="派遣表">
<link rel="next" href="_00e5_00af_00b9_00e9_00bd_0090_00e8_00be_0093_00e5_0087_00ba.html#g_t_00e5_00af_00b9_00e9_00bd_0090_00e8_00be_0093_00e5_0087_00ba" title="对齐输出">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
版权 (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008 自由软件基金会

您可以依据自由软件基金会所发行的GNU自由文档授权1.2版本或者之后的任何版本，
对本文档进行复制，分发和/或修改；其中不可变章节为"资助自由软件"，封面文
字为 (a) (参见下面)，以及封底文字为 (b) (参见下面)。授权的副本要被包含在
标题为"GNU自由文档授权"的章节中。

(a) FSF的封面文字为：

     GNU 手册

(b) FSF的封底文字为：

     您可以自由复制和修改本GNU手册，如同GNU软件。由自由软件基金会所发行
     的副本用于为GNU开发筹集资金。-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="%e5%bc%82%e5%b8%b8%e5%8c%ba%e5%9f%9f%e8%be%93%e5%87%ba"></a>
<a name="g_t_00e5_00bc_0082_00e5_00b8_00b8_00e5_008c_00ba_00e5_009f_009f_00e8_00be_0093_00e5_0087_00ba"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="_00e5_00af_00b9_00e9_00bd_0090_00e8_00be_0093_00e5_0087_00ba.html#g_t_00e5_00af_00b9_00e9_00bd_0090_00e8_00be_0093_00e5_0087_00ba">对齐输出</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="_00e6_00b4_00be_00e9_0081_00a3_00e8_00a1_00a8.html#g_t_00e6_00b4_00be_00e9_0081_00a3_00e8_00a1_00a8">派遣表</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="_00e6_00b1_0087_00e7_00bc_0096_00e6_00a0_00bc_00e5_00bc_008f.html#g_t_00e6_00b1_0087_00e7_00bc_0096_00e6_00a0_00bc_00e5_00bc_008f">汇编格式</a>
<hr>
</div>

<h4 class="subsection">17.21.9 用于异常区域的汇编命令</h4>

<!-- prevent bad page break with this line -->
<p>这一节描述了标记异常区域的起始和结束的命令。

<div class="defun">
&mdash; Macro: <b>EH_FRAME_SECTION_NAME</b><var><a name="index-EH_005fFRAME_005fSECTION_005fNAME-4472"></a></var><br>
<blockquote><p>如果定义，为一个C字符串常量，包含异常处理帧展开信息的section名字。
如果没有定义，GCC将提供一个缺省定义，如果target支持命名section。
<samp><span class="file">crtstuff.c</span></samp>使用该宏来切换到适当的section。

      <p>你应该定义该符号，如果你的target支持DWARF2帧展开信息并且缺省定义不工作。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>EH_FRAME_IN_DATA_SECTION</b><var><a name="index-EH_005fFRAME_005fIN_005fDATA_005fSECTION-4473"></a></var><br>
<blockquote><p>如果定义，DWARF2帧展开信息将被放到data section，即使target支持命名section。
例如当系统连接器进行垃圾搜集并且section不能被标记为不被搜集的时候，
可能需要这样。

      <p>不要定义该宏，除非<code>TARGET_ASM_NAMED_SECTION</code>也被定义。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>EH_TABLES_CAN_BE_READ_ONLY</b><var><a name="index-EH_005fTABLES_005fCAN_005fBE_005fREAD_005fONLY-4474"></a></var><br>
<blockquote><p>定义该宏为1，如果你的target对于没有使用non-PIC代码编码的帧展开信息，
将总是要求运行时重定位，
但是连接器可能不支持将只读和读写section合并到单独的读写section中。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>MASK_RETURN_ADDR</b><var><a name="index-MASK_005fRETURN_005fADDR-4475"></a></var><br>
<blockquote><p>一个rtx，用于对通过<code>RETURN_ADDR_RTX</code>发现的返回地址进行掩码操作，
使得其不包含任何无关的位。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>DWARF2_UNWIND_INFO</b><var><a name="index-DWARF2_005fUNWIND_005fINFO-4476"></a></var><br>
<blockquote><p>定义该宏为0，如果你的target支持DWARF2帧展开信息，
但是其还不能与异常处理一起工作。否则，
如果你的target支持这样的信息（如果定义了&lsquo;<samp><span class="samp">INCOMING_RETURN_ADDR_RTX</span></samp>&rsquo;，
并且&lsquo;<samp><span class="samp">UNALIGNED_INT_ASM_OP</span></samp>&rsquo;和&lsquo;<samp><span class="samp">OBJECT_FORMAT_ELF</span></samp>&rsquo;之一），
GCC将提供缺省的定义，1。

      <p>如果定义了<code>TARGET_UNWIND_INFO</code>，target特定的展开者将用于所有情况。
定义该宏将使得可以生成DWARF2帧调试信息。

      <p>如果没有定义<code>TARGET_UNWIND_INFO</code>，并且该宏被定义为1，
则DWARF2 unwider将为缺省的异常处理机制；
否则基于<code>setjmp</code>/<code>longjmp</code>的框架将被缺省使用。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>TARGET_UNWIND_INFO</b><var><a name="index-TARGET_005fUNWIND_005fINFO-4477"></a></var><br>
<blockquote><p>定义该宏，如果你的target具有ABI指定的unwind表。
通常这些将由<code>TARGET_UNWIND_EMIT</code>输出。
</p></blockquote></div>

<div class="defun">
&mdash; Variable: Target Hook <b>bool</b><var> TARGET_UNWIND_TABLES_DEFAULT<a name="index-bool-4478"></a></var><br>
<blockquote><p>该变量应该被设为<code>true</code>，如果target ABI即使不使用异常的时候也要求展开表。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>MUST_USE_SJLJ_EXCEPTIONS</b><var><a name="index-MUST_005fUSE_005fSJLJ_005fEXCEPTIONS-4479"></a></var><br>
<blockquote><p>该宏只有当<code>DWARF2_UNWIND_INFO</code>为运行时变量时才需要被定义。那种情况下，
<samp><span class="file">except.h</span></samp>不能正确的确定<code>MUST_USE_SJLJ_EXCEPTIONS</code>的相应定义，
所以target必须直接提供。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>DONT_USE_BUILTIN_SETJMP</b><var><a name="index-DONT_005fUSE_005fBUILTIN_005fSETJMP-4480"></a></var><br>
<blockquote><p>定义该宏为1，如果基于<code>setjmp</code>/<code>longjmp</code>的框架应该使用C库中的
<code>setjmp</code>/<code>longjmp</code>，
而不是<code>__builtin_setjmp</code>/<code>__builtin_longjmp</code>。
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>DWARF_CIE_DATA_ALIGNMENT</b><var><a name="index-DWARF_005fCIE_005fDATA_005fALIGNMENT-4481"></a></var><br>
<blockquote><p>该宏只有当target可能会在函数序言中存储寄存器，
并且相对栈指针的偏移量没有对齐于<code>UNITS_PER_WORD</code>的时候，才需要被定义。
定义应该为负的最小对齐数，如果<code>STACK_GROWS_DOWNWARD</code>被定义，
否则为正的最小对齐数。参见 <a href="SDB_00e5_0092_008cDWARF.html#SDB_00e5_0092_008cDWARF">SDB和DWARF</a>。
只有当target支持DWARF2帧展开信息的时候才有用。
</p></blockquote></div>

<div class="defun">
&mdash; Variable: Target Hook <b>bool</b><var> TARGET_TERMINATE_DW2_EH_FRAME_INFO<a name="index-bool-4482"></a></var><br>
<blockquote><p>值为真，如果target应该增加一个0字到Dwarf-2帧信息section的结尾，
当用于异常处理时。缺省值为假，如果<code>EH_FRAME_SECTION_NAME</code>被定义，否则为真。
</p></blockquote></div>

<div class="defun">
&mdash; Target Hook: rtx <b>TARGET_DWARF_REGISTER_SPAN</b> (<var>rtx reg</var>)<var><a name="index-TARGET_005fDWARF_005fREGISTER_005fSPAN-4483"></a></var><br>
<blockquote><p>给定一个寄存器，该钩子应该返回一个并行的寄存器，来表示到哪里发现寄存器块。
定义该钩子，如果寄存器和它的机器模式在Dwarf中被表示为非连接的位置，
或者如果在Dwarf中寄存器应该被表示为多于一个寄存器。
否则该钩子应该返回<code>NULL_RTX</code>。如果没有定义，缺省为返回<code>NULL_RTX</code>。
</p></blockquote></div>

<div class="defun">
&mdash; Target Hook: void <b>TARGET_INIT_DWARF_REG_SIZES_EXTRA</b> (<var>tree address</var>)<var><a name="index-TARGET_005fINIT_005fDWARF_005fREG_005fSIZES_005fEXTRA-4484"></a></var><br>
<blockquote><p>如果一些寄存器在Dwarf-2展开信息中按照多个块来表示，
定义该钩子在运行时来填充信息。
其将被<code>expand_builtin_init_dwarf_reg_sizes</code>调用。<var>address</var>为表的地址。
</p></blockquote></div>

<div class="defun">
&mdash; Target Hook: bool <b>TARGET_ASM_TTYPE</b> (<var>rtx sym</var>)<var><a name="index-TARGET_005fASM_005fTTYPE-4485"></a></var><br>
<blockquote><p>该钩子被用于从帧展开表中输出一个引用到由<var>sym</var>标识的type_info对象中。
其应该返回<code>true</code>，如果引用被输出。
返回<code>false</code>将会造成引用使用通常的Dwarf2例程被输出。
</p></blockquote></div>

<div class="defun">
&mdash; Target Hook: bool <b>TARGET_ARM_EABI_UNWINDER</b><var><a name="index-TARGET_005fARM_005fEABI_005fUNWINDER-4486"></a></var><br>
<blockquote><p>该钩子应该被设为<code>true</code>，在使用基于ARM EABI的展开库的target上，
并且在其它target上为<code>false</code>。这将影响展开表的格式。缺省为<code>false</code>。
</p></blockquote></div>

 </body></html>

