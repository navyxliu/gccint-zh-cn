<html lang="zh">
<head>
<title>Filesystem - GNU Compiler Collection (GCC) Internals</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="GNU Compiler Collection (GCC) Internals">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Host-Config.html#Host-Config" title="Host Config">
<link rel="prev" href="Host-Common.html#Host-Common" title="Host Common">
<link rel="next" href="Host-Misc.html#Host-Misc" title="Host Misc">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
版权 (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2010 自由软件基金会

您可以依据自由软件基金会所发行的GNU自由文档授权1.3版本或者之后的任何版本，对本文档进行复制，分发和/或修改；其中不可变章节为"资助自由软件"，封面文字为 (a) (参见下面)，以及封底文字为 (b) (参见下面)。授权的副本要被包含在标题为"GNU自由文档授权"的章节中。

(a) FSF的封面文字为：

     GNU 手册

(b) FSF的封底文字为：

     您可以自由复制和修改本GNU手册，如同GNU软件。由自由软件基金会所发行的副本用于为GNU开发筹集资金。-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Filesystem"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Host-Misc.html#Host-Misc">Host Misc</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Host-Common.html#Host-Common">Host Common</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Host-Config.html#Host-Config">Host Config</a>
<hr>
</div>

<h3 class="section">18.2 主机文件系统</h3>

<p><a name="index-configuration-file-4900"></a><a name="index-g_t_0040file_007bxm_002d_0040var_007bmachine_007d_002eh_007d-4901"></a>
<!-- GCC needs to know a number of things about the semantics of the host -->
<!-- machine's filesystem.  Filesystems with Unix and MS-DOS semantics are -->
<!-- automatically detected.  For other systems, you can define the -->
<!-- following macros in @file{xm-@var{machine}.h}. -->
GCC需要知道许多关于主机文件系统的语义方面的东西。具有Unix和MS-DOS语义的文件系统会被自动检测。对于其它系统，你可以在<samp><span class="file">xm-</span><var>machine</var><span class="file">.h</span></samp>中定义下列宏。

     <dl>
<dt><code>HAVE_DOS_BASED_FILE_SYSTEM</code><a name="index-HAVE_005fDOS_005fBASED_005fFILE_005fSYSTEM-4902"></a><dd><!-- This macro is automatically defined by @file{system.h} if the host -->
<!-- file system obeys the semantics defined by MS-DOS instead of Unix. -->
<!-- DOS file systems are case insensitive, file specifications may begin -->
<!-- with a drive letter, and both forward slash and backslash (@samp{/} -->
<!-- and @samp{\}) are directory separators. -->
如果主机文件系统服从MS-DOS而不是Unix定义的语义，则该宏会被<samp><span class="file">system.h</span></samp>自动定义。DOS文件系统大小写不敏感，文件描述可以起始于一个驱动字母，并且斜线和反斜线（&lsquo;<samp><span class="samp">/</span></samp>&rsquo;和&lsquo;<samp><span class="samp">\</span></samp>&rsquo;）都是目录分隔符。

     <br><dt><code>DIR_SEPARATOR</code><a name="index-DIR_005fSEPARATOR-4903"></a><dt><code>DIR_SEPARATOR_2</code><a name="index-DIR_005fSEPARATOR_005f2-4904"></a><dd><!-- If defined, these macros expand to character constants specifying -->
<!-- separators for directory names within a file specification. -->
<!-- @file{system.h} will automatically give them appropriate values on -->
<!-- Unix and MS-DOS file systems.  If your file system is neither of -->
<!-- these, define one or both appropriately in @file{xm-@var{machine}.h}. -->
如果定义，这些宏扩展为字符常量，用来指定在文件描述中的目录名的分隔符。在Unix和MS-DOS文件系统上，<samp><span class="file">system.h</span></samp>会自动给出合适的值。如果你的文件系统不是这些，则在<samp><span class="file">xm-</span><var>machine</var><span class="file">.h</span></samp>中定义一个或者这两个合适的值。

     <!-- However, operating systems like VMS, where constructing a pathname is -->
     <!-- more complicated than just stringing together directory names -->
     <!-- separated by a special character, should not define either of these -->
     <!-- macros. -->
     <p>但是，像VMS这样的操作系统，构建路径名要比将目录名通过特定字符进行字符串连接复杂的多，对于这种情况，则不要定义这些宏。

     <br><dt><code>PATH_SEPARATOR</code><a name="index-PATH_005fSEPARATOR-4905"></a><dd><!-- If defined, this macro should expand to a character constant -->
<!-- specifying the separator for elements of search paths.  The default -->
<!-- value is a colon (@samp{:}).  DOS-based systems usually, but not -->
<!-- always, use semicolon (@samp{;}). -->
如果定义，该宏将扩展为一个字符常量，用来指定搜寻路径中元素的分隔符。缺省值为一个冒号（&lsquo;<samp><span class="samp">:</span></samp>&rsquo;）。基于DOS的系统，通常，并不是所有的，使用分号（&lsquo;<samp><span class="samp">;</span></samp>&rsquo;）。

     <br><dt><code>VMS</code><a name="index-VMS-4906"></a><dd><!-- Define this macro if the host system is VMS@. -->
如果主机系统为VMS，则定义该宏。

     <br><dt><code>HOST_OBJECT_SUFFIX</code><a name="index-HOST_005fOBJECT_005fSUFFIX-4907"></a><dd><!-- Define this macro to be a C string representing the suffix for object -->
<!-- files on your host machine.  If you do not define this macro, GCC will -->
<!-- use @samp{.o} as the suffix for object files. -->
定义该宏为一个C字符串，用来表示在你的主机上目标文件的后缀。如果没有定义该宏，GCC将会使用&lsquo;<samp><span class="samp">.o</span></samp>&rsquo;作为目标文件的后缀。

     <br><dt><code>HOST_EXECUTABLE_SUFFIX</code><a name="index-HOST_005fEXECUTABLE_005fSUFFIX-4908"></a><dd><!-- Define this macro to be a C string representing the suffix for -->
<!-- executable files on your host machine.  If you do not define this macro, -->
<!-- GCC will use the null string as the suffix for executable files. -->
定义该宏为一个C字符串，用来表示在你的主机上可执行文件的后缀。如果没有定义该宏，GCC将会使用空字符串作为可执行文件的后缀。

     <br><dt><code>HOST_BIT_BUCKET</code><a name="index-HOST_005fBIT_005fBUCKET-4909"></a><dd><!-- A pathname defined by the host operating system, which can be opened as -->
<!-- a file and written to, but all the information written is discarded. -->
<!-- This is commonly known as a @dfn{bit bucket} or @dfn{null device}.  If -->
<!-- you do not define this macro, GCC will use @samp{/dev/null} as the bit -->
<!-- bucket.  If the host does not support a bit bucket, define this macro to -->
<!-- an invalid filename. -->
一个路径名，由主机操作系统定义，可以作为一个文件被打开和写入内容，但是所有写入的信息都将被丢弃。这就是众所皆知的<dfn>bit bucket</dfn>，或者<dfn>null device</dfn>。如果没有定义该宏，GCC将使用&lsquo;<samp><span class="samp">/dev/null</span></samp>&rsquo;作为bit bucket。如果主机不支持bit bucket，则将该宏定义为一个无效的文件名。

     <br><dt><code>UPDATE_PATH_HOST_CANONICALIZE (</code><var>path</var><code>)</code><a name="index-UPDATE_005fPATH_005fHOST_005fCANONICALIZE-_0028_0040var_007bpath_007d_0029-4910"></a><dd><!-- If defined, a C statement (sans semicolon) that performs host-dependent -->
<!-- canonicalization when a path used in a compilation driver or -->
<!-- preprocessor is canonicalized.  @var{path} is a malloc-ed path to be -->
<!-- canonicalized.  If the C statement does canonicalize @var{path} into a -->
<!-- different buffer, the old path should be freed and the new buffer should -->
<!-- have been allocated with malloc. -->
如果定义，则为一个C语句（没有分号），当编译驱动器或者预处理器中使用的路径需要被canonicalized时，用于执行主机相关的 canonicalization。<var>path</var>是被malloc出来的。如果C语句将<var>path</var> canonicalize到一个不同的缓存中，则
旧的路径将被释放，并且新的缓存应该通过malloc被分配。

     <br><dt><code>DUMPFILE_FORMAT</code><a name="index-DUMPFILE_005fFORMAT-4911"></a><dd><!-- Define this macro to be a C string representing the format to use for -->
<!-- constructing the index part of debugging dump file names.  The resultant -->
<!-- string must fit in fifteen bytes.  The full filename will be the -->
<!-- concatenation of: the prefix of the assembler file name, the string -->
<!-- resulting from applying this format to an index number, and a string -->
<!-- unique to each dump file kind, e.g.@: @samp{rtl}. -->
定义该宏为一个字符串，用来表示构建调试转储文件名字的索引部分的格式。结果字符串必须适合15个字节。文件名的全称为：汇编文件名的前缀，应用该模式生成的索引号，以及每种转储文件所特定的字符串，例如&lsquo;<samp><span class="samp">rtl</span></samp>&rsquo;。

     <!-- If you do not define this macro, GCC will use @samp{.%02d.}.  You should -->
     <!-- define this macro if using the default will create an invalid file name. -->
     <p>如果没有定义该宏，GCC将会使用&lsquo;<samp><span class="samp">.%02d.</span></samp>&rsquo;。应该在使用缺省方式会生成无效文件名的情况下，定义该宏。

     <br><dt><code>DELETE_IF_ORDINARY</code><a name="index-DELETE_005fIF_005fORDINARY-4912"></a><dd><!-- Define this macro to be a C statement (sans semicolon) that performs -->
<!-- host-dependent removal of ordinary temp files in the compilation driver. -->
定义该宏为一个C语句（没有分号），用来执行主机相关的编译驱动器产生的普通临时文件的删除操作。

     <!-- If you do not define this macro, GCC will use the default version.  You -->
     <!-- should define this macro if the default version does not reliably remove -->
     <!-- the temp file as, for example, on VMS which allows multiple versions -->
     <!-- of a file. -->
     <p>如果没有定义该宏，GCC将会使用缺省的版本。应该在缺省版本不能可靠的删除临时文件的情况下，定义该宏。例如，在VMS上，会允许一个文件有多个版本。

     <br><dt><code>HOST_LACKS_INODE_NUMBERS</code><a name="index-HOST_005fLACKS_005fINODE_005fNUMBERS-4913"></a><dd><!-- Define this macro if the host filesystem does not report meaningful inode -->
<!-- numbers in struct stat. -->
如果主机文件系统不在struct stat中报告有意义的inode数字时，则定义该宏。
</dl>

<!-- @node Host Misc -->
<!-- @section Host Misc -->
 </body></html>

