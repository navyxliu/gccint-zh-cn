<html lang="zh">
<head>
<title>Final Actions - GNU Compiler Collection (GCC) Internals</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="GNU Compiler Collection (GCC) Internals">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Test-Directives.html#Test-Directives" title="Test Directives">
<link rel="prev" href="Require-Support.html#Require-Support" title="Require Support">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
版权 (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2010 自由软件基金会

您可以依据自由软件基金会所发行的GNU自由文档授权1.3版本或者之后的任何版本，对本文档进行复制，分发和/或修改；其中不可变章节为"资助自由软件"，封面文字为 (a) (参见下面)，以及封底文字为 (b) (参见下面)。授权的副本要被包含在标题为"GNU自由文档授权"的章节中。

(a) FSF的封面文字为：

     GNU 手册

(b) FSF的封底文字为：

     您可以自由复制和修改本GNU手册，如同GNU软件。由自由软件基金会所发行的副本用于为GNU开发筹集资金。-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Final-Actions"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Require-Support.html#Require-Support">Require Support</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Test-Directives.html#Test-Directives">Test Directives</a>
<hr>
</div>

<h4 class="subsection">7.2.6 在<code>dg-final</code>中使用的命令</h4>

<!-- The GCC testsuite defines the following directives to be used within -->
<!-- @code{dg-final}. -->
<p>GCC测试包定义了如下一些指令，用于<code>dg-final</code>中。

<!-- @subsubsection Scan a particular file -->
<h5 class="subsubsection">7.2.6.1 扫描特定文件</h5>

     <dl>
<dt><code>scan-file </code><var>filename</var> <var>regexp</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{regexp} matches text in @var{filename}. -->
如果<var>regexp</var>匹配<var>filename</var>中的文本，则通过。
<br><dt><code>scan-file-not </code><var>filename</var> <var>regexp</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{regexp} does not match text in @var{filename}. -->
如果<var>regexp</var>不匹配<var>filename</var>中的文本，则通过。
<br><dt><code>scan-module </code><var>module</var> <var>regexp</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{regexp} matches in Fortran module @var{module}. -->
如果<var>regexp</var>在Fortran模块<var>module</var>中匹配，则通过。
</dl>

<!-- @subsubsection Scan the assembly output -->
<h5 class="subsubsection">7.2.6.2 扫描汇编输出</h5>

     <dl>
<dt><code>scan-assembler </code><var>regex</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{regex} matches text in the test's assembler output. -->
如果<var>regex</var>匹配测试汇编输出中的文本，则通过。

     <br><dt><code>scan-assembler-not </code><var>regex</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{regex} does not match text in the test's assembler output. -->
如果<var>regex</var>不匹配测试汇编输出中的文本，则通过。

     <br><dt><code>scan-assembler-times </code><var>regex</var> <var>num</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{regex} is matched exactly @var{num} times in the test's -->
<!-- assembler output. -->
如果<var>regex</var>在测试汇编输出中匹配了<var>num</var>次，则通过。

     <br><dt><code>scan-assembler-dem </code><var>regex</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{regex} matches text in the test's demangled assembler output. -->
如果<var>regex</var>匹配测试的修复（demangled）汇编输出中的文本，则通过。

     <br><dt><code>scan-assembler-dem-not </code><var>regex</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{regex} does not match text in the test's demangled assembler -->
<!-- output. -->
如果<var>regex</var>不匹配测试的修复（demangled）汇编输出中的文本，则通过。

     <br><dt><code>scan-hidden </code><var>symbol</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{symbol} is defined as a hidden symbol in the test's -->
<!-- assembly output. -->
如果<var>symbol</var>在测试汇编输出中被定义为隐藏符号，则通过。

     <br><dt><code>scan-not-hidden </code><var>symbol</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{symbol} is not defined as a hidden symbol in the test's -->
<!-- assembly output. -->
如果<var>symbol</var>在测试汇编输出中没有被定义为隐藏符号，则通过。
</dl>

<!-- @subsubsection Scan optimization dump files -->
<h5 class="subsubsection">7.2.6.3 扫描优化转储文件</h5>

<!-- These commands are available for @var{kind} of @code{tree}, @code{rtl}, -->
<!-- and @code{ipa}. -->
<p>这些命令中的<var>kind</var>可以为<code>tree</code>，<code>rtl</code>和<code>ipa</code>。

     <dl>
<dt><code>scan-</code><var>kind</var><code>-dump </code><var>regex</var> <var>suffix</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{regex} matches text in the dump file with suffix @var{suffix}. -->
如果<var>regex</var>匹配后缀为<var>suffix</var>的转储文件中的文本，则通过。

     <br><dt><code>scan-</code><var>kind</var><code>-dump-not </code><var>regex</var> <var>suffix</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{regex} does not match text in the dump file with suffix -->
<!-- @var{suffix}. -->
如果<var>regex</var>匹配后缀为<var>suffix</var>的转储文件中的文本，则通过。

     <br><dt><code>scan-</code><var>kind</var><code>-dump-times </code><var>regex</var> <var>num</var> <var>suffix</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{regex} is found exactly @var{num} times in the dump file -->
<!-- with suffix @var{suffix}. -->
如果<var>regex</var>在后缀为<var>suffix</var>的转储文件中被发现<var>num</var>次，则通过。

     <br><dt><code>scan-</code><var>kind</var><code>-dump-dem </code><var>regex</var> <var>suffix</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{regex} matches demangled text in the dump file with -->
<!-- suffix @var{suffix}. -->
如果<var>regex</var>匹配后缀为<var>suffix</var>的转储文件中的修复文本（demangled text），则通过。

     <br><dt><code>scan-</code><var>kind</var><code>-dump-dem-not </code><var>regex</var> <var>suffix</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if @var{regex} does not match demangled text in the dump file with -->
<!-- suffix @var{suffix}. -->
如果<var>regex</var>不匹配后缀为<var>suffix</var>的转储文件中的修复文本（demangled text），则通过。
</dl>

<!-- @subsubsection Verify that an output files exists or not -->
<h5 class="subsubsection">7.2.6.4 验证输出文件是否存在</h5>

     <dl>
<dt><code>output-exists [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if compiler output file exists. -->
如果编译器输出文件存在，则通过。

     <br><dt><code>output-exists-not [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if compiler output file does not exist. -->
如果编译器输出文件不存在，则通过。
</dl>

<!-- @subsubsection Check for LTO tests -->
<h5 class="subsubsection">7.2.6.5 检查LTO测试</h5>

     <dl>
<dt><code>scan-symbol </code><var>regexp</var><code> [{ target/xfail </code><var>selector</var><code> }]</code><dd><!-- Passes if the pattern is present in the final executable. -->
如果在最终的可执行程序中模式存在，则通过。
</dl>

<!-- @subsubsection Checks for @command{gcov} tests -->
<h5 class="subsubsection">7.2.6.6 检查<samp><span class="command">gcov</span></samp>测试</h5>

     <dl>
<dt><code>run-gcov </code><var>sourcefile</var><dd><!-- Check line counts in @command{gcov} tests. -->
检查测试中的行数。

     <br><dt><code>run-gcov [branches] [calls] { </code><var>opts</var> <var>sourcefile</var><code> }</code><dd><!-- Check branch and/or call counts, in addition to line counts, in -->
<!-- @command{gcov} tests. -->
除了行数以外，还检查测试中的分支和/或调用数。
</dl>

<!-- @subsubsection Clean up generated test files -->
<h5 class="subsubsection">7.2.6.7 清除生成的测试文件</h5>

     <dl>
<dt><code>cleanup-coverage-files</code><dd><!-- Removes coverage data files generated for this test. -->
删除为该测试生成的coverage data文件。

     <br><dt><code>cleanup-ipa-dump </code><var>suffix</var><dd><!-- Removes IPA dump files generated for this test. -->
删除为该测试生成的IPA转储文件。

     <br><dt><code>cleanup-modules</code><dd><!-- Removes Fortran module files generated for this test. -->
删除为该测试生成的Fortran模块文件。

     <br><dt><code>cleanup-profile-file</code><dd><!-- Removes profiling files generated for this test. -->
删除为该测试生成的profiling文件。

     <br><dt><code>cleanup-repo-files</code><dd><!-- Removes files generated for this test for @option{-frepo}. -->
删除为该测试选项<samp><span class="option">-frepo</span></samp>生成的文件。

     <br><dt><code>cleanup-rtl-dump </code><var>suffix</var><dd><!-- Removes RTL dump files generated for this test. -->
删除为该测试生成的RTL转储文件。

     <br><dt><code>cleanup-saved-temps</code><dd><!-- Removes files for the current test which were kept for @option{-save-temps}. -->
删除为该测试选项<samp><span class="option">-save-temps</span></samp>生成的文件。

     <br><dt><code>cleanup-tree-dump </code><var>suffix</var><dd><!-- Removes tree dump files matching @var{suffix} which were generated for -->
<!-- this test. -->
删除为该测试生成的匹配<var>suffix</var>的tree转储文件。
</dl>

<!-- @node Ada Tests -->
<!-- @section Ada Language Testsuites -->
 </body></html>

